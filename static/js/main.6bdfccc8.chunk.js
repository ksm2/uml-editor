(this["webpackJsonpuml-editor"]=this["webpackJsonpuml-editor"]||[]).push([[0],{37:function(t){t.exports=JSON.parse('{"export":[{"type":0,"value":"Exportieren"}],"export.png":[{"type":0,"value":"Als PNG ..."}],"export.svg":[{"type":0,"value":"Als SVG ..."}],"file":[{"type":0,"value":"Datei"}],"file.new":[{"type":0,"value":"Neu ..."}],"file.new.message":[{"type":0,"value":"W\xe4hlen Sie einen neuen Titel f\xfcr das neue Dokument"}],"file.open":[{"type":0,"value":"\xd6ffnen ..."}],"file.rename":[{"type":0,"value":"\\""},{"type":1,"value":"title"},{"type":0,"value":"\\" umbenennen ..."}],"file.rename.message":[{"type":0,"value":"Neuer Dokument-Titel"}],"file.save":[{"type":0,"value":"Speichern ..."}],"shortcut.alt":[{"type":0,"value":"Alt"}],"shortcut.ctrl":[{"type":0,"value":"Strg"}],"shortcut.shift":[{"type":0,"value":"Umsch"}],"title":[{"type":0,"value":"UML-Editor"}],"untitled":[{"type":0,"value":"Unbenannt"}],"view":[{"type":0,"value":"Ansicht"}],"view.grid":[{"type":0,"value":"Raster umschalten"}]}')},38:function(t){t.exports=JSON.parse('{"export":[{"type":0,"value":"Export"}],"export.png":[{"type":0,"value":"As PNG ..."}],"export.svg":[{"type":0,"value":"As SVG ..."}],"file":[{"type":0,"value":"File"}],"file.new":[{"type":0,"value":"New ..."}],"file.new.message":[{"type":0,"value":"Choose a title for the new document"}],"file.open":[{"type":0,"value":"Open ..."}],"file.rename":[{"type":0,"value":"Rename \\""},{"type":1,"value":"title"},{"type":0,"value":"\\" ..."}],"file.rename.message":[{"type":0,"value":"New document title"}],"file.save":[{"type":0,"value":"Save ..."}],"shortcut.alt":[{"type":0,"value":"Alt"}],"shortcut.ctrl":[{"type":0,"value":"Ctrl"}],"shortcut.shift":[{"type":0,"value":"Shift"}],"title":[{"type":0,"value":"UML Editor"}],"untitled":[{"type":0,"value":"Untitled"}],"view":[{"type":0,"value":"View"}],"view.grid":[{"type":0,"value":"Toggle Grid"}]}')},62:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){"use strict";n.r(e);var i=n(0),a=(n(45),n(4)),r=n.n(a),s=n(33),c=n.n(s),o=n(11),u=n(73),l=20,h=10,v=10,f=4.5,d='<Diagram>\n  <Interface id="i1" anchor="s" y="-60">\n    <Stereotype/>\n    <Title>Visitor</Title>\n  </Interface>\n\n  <Class id="c1" anchor="n" y="60" width="400">\n    <Stereotype/>\n    <Title>Concrete Visitor</Title>\n    <Separator/>\n    <Method>visitSomething(something: Something)</Method>\n  </Class>\n\n  <Implementation from="c1" to="i1" fromAnchor="n" toAnchor="s"/>\n</Diagram>\n',g="Interface {\n  Title {\n    font-style: italic;\n  }\n}\n\nClass {\n  Title {\n    font-weight: bold;\n  }\n}\n",p=n(2),y=n(3),b=function(){function t(e,n,i){Object(p.a)(this,t),this.red=void 0,this.green=void 0,this.blue=void 0,this.red=t.sanitizeComponent(e),this.green=t.sanitizeComponent(n),this.blue=t.sanitizeComponent(i)}return Object(y.a)(t,[{key:"toHexString",value:function(){return"#".concat(t.intToHex(this.red)).concat(t.intToHex(this.green)).concat(t.intToHex(this.blue))}},{key:"mix",value:function(e,n){var i=t.clamp(0,1,n),a=1-i;return new t(a*this.red+i*e.red,a*this.green+i*e.green,a*this.blue+i*e.blue)}}],[{key:"fromHexString",value:function(e){return new t(parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16))}},{key:"clamp",value:function(t,e,n){return n<t?t:n>e?e:n}},{key:"sanitizeComponent",value:function(e){var n=t.clamp(0,255,e);return Math.round(n)}},{key:"intToHex",value:function(t){return t.toString(16).padStart(2,"0")}}]),t}();b.BLUE=b.fromHexString("#0d6efd"),b.INDIGO=b.fromHexString("#6610f2"),b.PURPLE=b.fromHexString("#6f42c1"),b.PINK=b.fromHexString("#d63384"),b.RED=b.fromHexString("#dc3545"),b.ORANGE=b.fromHexString("#fd7e14"),b.YELLOW=b.fromHexString("#ffc107"),b.GREEN=b.fromHexString("#198754"),b.TEAL=b.fromHexString("#20c997"),b.CYAN=b.fromHexString("#0dcaf0"),b.WHITE=b.fromHexString("#ffffff"),b.GRAY=b.fromHexString("#6c757d"),b.GRAY_DARK=b.fromHexString("#343a40"),b.PRIMARY=b.fromHexString("#0d6efd"),b.SECONDARY=b.fromHexString("#6c757d"),b.SUCCESS=b.fromHexString("#198754"),b.INFO=b.CYAN,b.WARNING=b.YELLOW,b.DANGER=b.RED,b.LIGHT=b.fromHexString("#f8f9fa"),b.DARK=b.fromHexString("#212529");var m,O=b,j=n(6),x=n(5),k=function(){function t(e){Object(p.a)(this,t),this.tokenizer=void 0,this.tokens=[],this.index=0,this.tokenizer=e}return Object(y.a)(t,[{key:"parseFromString",value:function(t){return this.index=0,this.tokens=this.tokenizer.tokenize(t),this.parse()}},{key:"consume",value:function(t){var e=this.tokens[this.index];if(e.kind===t)return this.index+=1,e;throw new Error("Expected ".concat(t,", but was ").concat(e.kind))}},{key:"parseOneOf",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,a=e;i<a.length;i++){var r=a[i],s=this.parseOptional(r);if(void 0!==s)return s}throw new Error("None of the one ofs matched")}},{key:"parseSet",value:function(t){for(var e=new Set;;){var n=this.index;try{e.add(t.call(this))}catch(i){return this.index=n,e}if(this.index<=n)throw new Error("Did not consume any tokens")}}},{key:"parseOptional",value:function(t){var e,n=this.index;try{e=t.call(this)}catch(i){return void(this.index=n)}if(this.index<=n)throw new Error("Did not consume any tokens");return e}}]),t}(),S=function(){function t(){Object(p.a)(this,t),this.subject="",this.index=0}return Object(y.a)(t,[{key:"tokenize",value:function(t){this.subject=t,this.index=0;for(var e=[];this.index<this.subject.length;){var n=this.index,i=this.next(),a=this.index;if(a<=n)throw new Error("Did not consume any characters");if(null!==i){var r=this.subject.slice(n,a);e.push({kind:i,value:r})}}return e}},{key:"matches",value:function(t){var e=this.subject.slice(this.index).match(t);return null!==e&&(this.index+=e[0].length,!0)}},{key:"startsWith",value:function(t){return!!this.subject.startsWith(t,this.index)&&(this.index+=t.length,!0)}}]),t}();!function(t){t[t.LBRACE=0]="LBRACE",t[t.RBRACE=1]="RBRACE",t[t.COLON=2]="COLON",t[t.SEMI=3]="SEMI",t[t.DOT=4]="DOT",t[t.HASH=5]="HASH",t[t.COLOR=6]="COLOR",t[t.NUMBER=7]="NUMBER",t[t.IDENTIFIER=8]="IDENTIFIER",t[t.ERROR=9]="ERROR"}(m||(m={}));var w,T=m,E=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"next",value:function(){return this.matches(/^\s+/)||this.matches(/^\/\/[^\r\n]*/)||this.matches(/^\/\*.*?\*\//)?null:this.matches(/^#[0-9a-fA-F]{6}|^#[0-9a-fA-F]{3}/)?T.COLOR:this.matches(/^\d+(\.\d*)?|^\.\d+/)?T.NUMBER:this.startsWith("{")?T.LBRACE:this.startsWith("}")?T.RBRACE:this.startsWith(":")?T.COLON:this.startsWith(";")?T.SEMI:this.startsWith(".")?T.DOT:this.startsWith("#")?T.HASH:this.matches(/^[a-zA-Z]+(-[a-zA-Z]+)*/)?T.IDENTIFIER:(this.matches(/^./),T.ERROR)}}]),n}(S),A=function t(e,n){Object(p.a)(this,t),this.key=void 0,this.value=void 0,this.key=e,this.value=n},C=n(7),N=n(34),R=n(12);w=Symbol.iterator;var L=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;Object(p.a)(this,t),this.map=void 0,this.map=new Map(Object(R.a)(e).map((function(t){return[t.key,t.value]})))}return Object(y.a)(t,[{key:w,value:function(){return this.map.entries()}},{key:"addAll",value:function(t){var e,n=Object(C.a)(t);try{for(n.s();!(e=n.n()).done;){var i=Object(o.a)(e.value,2),a=i[0],r=i[1];this.map.set(a,r)}}catch(s){n.e(s)}finally{n.f()}return this}},{key:"getString",value:function(t,e){var n=this.map.get(t);return"string"===typeof n?n:e}},{key:"getColor",value:function(t,e){var n=this.map.get(t);return n instanceof O?n:e}},{key:"getFloat",value:function(t,e){var n=this.map.get(t);return"number"===typeof n?n:e}}]),t}(),I=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;Object(p.a)(this,t),this.rules=void 0,this.rules=e}return Object(y.a)(t,[{key:"getProperties",value:function(t){var e,n=new L,i=Object(N.a)(t),a=i[0],r=i.slice(1),s=r.length>0,c=Object(C.a)(this.rules);try{for(c.s();!(e=c.n()).done;){var o=e.value;if(o.selector.tag===a){var u=new L(o.properties);s&&(u.addAll(this.getProperties(r)),u.addAll(o.getProperties(r))),n.addAll(u)}}}catch(l){c.e(l)}finally{c.f()}return n}}]),t}(),D=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(t,i,a){var r;return Object(p.a)(this,n),(r=e.call(this,a)).selector=void 0,r.properties=void 0,r.selector=t,r.properties=i,r}return n}(I),P=function t(e,n,i){Object(p.a)(this,t),this.tag=void 0,this.classes=void 0,this.id=void 0,this.tag=e,this.classes=n,this.id=i},H=new(function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.call(this,new E)}return Object(y.a)(n,[{key:"parse",value:function(){return new I(this.parseRuleSet())}},{key:"parseRuleSet",value:function(){return this.parseSet(this.parseRule)}},{key:"parseRule",value:function(){var t=this.parseSelector();this.consume(T.LBRACE);var e=this.parsePropertySet(),n=this.parseRuleSet();return this.consume(T.RBRACE),new D(t,e,n)}},{key:"parseSelector",value:function(){var t=this.consume(T.IDENTIFIER),e=this.parseClassSet(),n=this.parseOptionalId();return new P(t.value,e,n)}},{key:"parsePropertySet",value:function(){return this.parseSet(this.parseProperty)}},{key:"parseProperty",value:function(){var t=this.parseIdentifier();this.consume(T.COLON);var e=this.parseOneOf(this.parseColor,this.parseNumber,this.parseIdentifierValue);return this.consume(T.SEMI),new A(t,e)}},{key:"parseClassSet",value:function(){return this.parseSet(this.parseClass)}},{key:"parseClass",value:function(){return this.consume(T.DOT),this.consume(T.IDENTIFIER).value}},{key:"parseOptionalId",value:function(){return this.parseOptional(this.parseId)}},{key:"parseId",value:function(){return this.consume(T.HASH),this.consume(T.IDENTIFIER).value}},{key:"parseColor",value:function(){var t=this.consume(T.COLOR);return O.fromHexString(t.value)}},{key:"parseNumber",value:function(){var t=this.consume(T.NUMBER);return parseFloat(t.value)}},{key:"parseIdentifierValue",value:function(){var t=this.parseIdentifier();switch(t){case"blue":return O.BLUE;case"indigo":return O.INDIGO;case"purple":return O.PURPLE;case"pink":return O.PINK;case"red":return O.RED;case"orange":return O.ORANGE;case"yellow":return O.YELLOW;case"green":return O.GREEN;case"teal":return O.TEAL;case"cyan":return O.CYAN;case"white":return O.WHITE;case"gray":return O.GRAY;case"gray-dark":return O.GRAY_DARK;case"primary":return O.PRIMARY;case"secondary":return O.SECONDARY;case"success":return O.SUCCESS;case"info":return O.INFO;case"warning":return O.WARNING;case"danger":return O.DANGER;case"light":return O.LIGHT;case"dark":return O.DARK;default:return t}}},{key:"parseIdentifier",value:function(){return this.consume(T.IDENTIFIER).value}}]),n}(k));var M=function(t){Object(a.useEffect)((function(){document.title=t}),[t])};var W=function(t){return Object(a.useRef)("".concat(t,"-").concat(Math.random().toString(36).substring(2))).current};var F,G,Y=function(t,e){var n=Object(a.useRef)(e);Object(a.useEffect)((function(){function e(e){void 0!==t&&function(t,e){var n,i=!0,a=t.split("-"),r=Object(C.a)(a);try{for(r.s();!(n=r.n()).done;){var s=n.value;i="Ctrl"===s?i&&e.ctrlKey:"Shift"===s?i&&e.shiftKey:"Alt"===s?i&&e.altKey:i&&e.key.toLowerCase()===s.toLowerCase()}}catch(c){r.e(c)}finally{r.f()}return i}(t,e)&&(e.preventDefault(),n.current())}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t]),Object(a.useEffect)((function(){n.current=e}))};(G=F||(F={}))[G.N=0]="N",G[G.NNE=1]="NNE",G[G.NE=2]="NE",G[G.ENE=3]="ENE",G[G.E=4]="E",G[G.ESE=5]="ESE",G[G.SE=6]="SE",G[G.SSE=7]="SSE",G[G.S=8]="S",G[G.SSW=9]="SSW",G[G.SW=10]="SW",G[G.WSW=11]="WSW",G[G.W=12]="W",G[G.WNW=13]="WNW",G[G.NW=14]="NW",G[G.NNW=15]="NNW";var z=F;function B(t){if((t+6)%16<5)return 0;if((t+14)%16<5)return 1;switch(t){case z.NNW:case z.SSW:return 1/4;case z.N:case z.S:return.5;case z.NNE:case z.SSE:return 3/4}throw new Error}function X(t){if((t+2)%16<5)return 0;if((t+10)%16<5)return 1;switch(t){case z.ENE:case z.WNW:return 1/4;case z.E:case z.W:return.5;case z.ESE:case z.WSW:return 3/4}throw new Error}var U,V=n(19),_=n.n(V);U=Symbol.iterator;var K,J=function(){function t(){Object(p.a)(this,t),this.children=new Set,this.hovered=!1,this.selected=!1}return Object(y.a)(t,[{key:"getChildren",value:function(){return Object(R.a)(this.children)}},{key:"addChild",value:function(t){return this.children.add(t),this}},{key:"deleteChild",value:function(t){return this.children.delete(t)}},{key:U,value:_.a.mark((function t(){var e,n,i;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Object(C.a)(Object(R.a)(this.children).reverse()),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=8;break}return i=n.value,t.delegateYield(i,"t0",6);case 6:t.next=3;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),e.e(t.t1);case 13:return t.prev=13,e.f(),t.finish(13);case 16:return t.next=18,this;case 18:case"end":return t.stop()}}),t,this,[[1,10,13,16]])}))},{key:"isHovered",value:function(){return this.hovered}},{key:"setHovered",value:function(t){this.hovered=t}},{key:"isSelected",value:function(){return this.selected}},{key:"setSelected",value:function(t){this.selected=t}}]),t}();!function(t){t[t.RECTANGLE=0]="RECTANGLE",t[t.ELLIPSE=1]="ELLIPSE",t[t.NOTE=2]="NOTE",t[t.FOLDER=3]="FOLDER",t[t.BOX=4]="BOX",t[t.FILE=5]="FILE",t[t.COMPONENT=6]="COMPONENT"}(K||(K={}));var Z,$=K,q=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(t,i,a,r,s){var c;return Object(p.a)(this,n),(c=e.call(this)).anchor=void 0,c.x=void 0,c.y=void 0,c.width=void 0,c.height=void 0,c.shape=$.RECTANGLE,c.anchor=t,c.x=i,c.y=a,c.width=r,c.height=s,c}return Object(y.a)(n,[{key:"getTagName",value:function(){return"Classifier"}},{key:"getRectangle",value:function(){return{x:this.getLeft(),y:this.getTop(),width:this.width,height:this.height}}},{key:"getWidth",value:function(){return this.width}},{key:"setWidth",value:function(t){this.width=t}},{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getHeight",value:function(){return this.height}},{key:"setHeight",value:function(t){this.height=t}},{key:"getLeft",value:function(){return this.x-this.width*B(this.anchor)}},{key:"setLeft",value:function(t){this.x=t+this.width*B(this.anchor)}},{key:"getCenterX",value:function(){return this.getLeft()+this.width/2}},{key:"getRight",value:function(){return this.getLeft()+this.width}},{key:"getTop",value:function(){return this.y-this.height*X(this.anchor)}},{key:"setTop",value:function(t){this.y=t+this.height*X(this.anchor)}},{key:"getCenterY",value:function(){return this.getTop()+this.height/2}},{key:"getBottom",value:function(){return this.getTop()+this.height}},{key:"render",value:function(t){t.renderClassifier(this)}}]),n}(J),Q=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(t){t.renderDiagram(this)}},{key:"find",value:function(t){return this.findElement(this,t)}},{key:"findElement",value:function(t,e){if(e(t))return t;var n,i=Object(C.a)(t.getChildren());try{for(i.s();!(n=i.n()).done;){var a=n.value,r=this.findElement(a,e);if(void 0!==r)return r}}catch(s){i.e(s)}finally{i.f()}}},{key:"getWidth",value:function(){return this.getRight()-this.getLeft()}},{key:"getHeight",value:function(){return this.getBottom()-this.getTop()}},{key:"getTop",value:function(){return this.reduceClassifiers((function(t,e){var n=e.getTop();return t>n?n:t}),1/0)}},{key:"getBottom",value:function(){return this.reduceClassifiers((function(t,e){var n=e.getBottom();return t<n?n:t}),-1/0)}},{key:"getLeft",value:function(){return this.reduceClassifiers((function(t,e){var n=e.getLeft();return t>n?n:t}),1/0)}},{key:"getRight",value:function(){return this.reduceClassifiers((function(t,e){var n=e.getRight();return t<n?n:t}),-1/0)}},{key:"reduceClassifiers",value:function(t,e){var n,i=e,a=Object(C.a)(this.getChildren());try{for(a.s();!(n=a.n()).done;){var r=n.value;r instanceof q&&(i=t(i,r))}}catch(s){a.e(s)}finally{a.f()}return i===e?0:i}}]),n}(J);!function(t){t[t.SOLID=0]="SOLID",t[t.DOTS=1]="DOTS",t[t.SMALL_DASHES=2]="SMALL_DASHES",t[t.LARGE_DASHES=3]="LARGE_DASHES",t[t.TIGHT_DASHES=4]="TIGHT_DASHES"}(Z||(Z={}));var tt,et=Z;!function(t){t[t.NONE=0]="NONE",t[t.ARROW=1]="ARROW",t[t.TRIANGLE=2]="TRIANGLE",t[t.FILLED_TRIANGLE=3]="FILLED_TRIANGLE",t[t.DIAMOND=4]="DIAMOND",t[t.FILLED_DIAMOND=5]="FILLED_DIAMOND",t[t.CIRCLE=6]="CIRCLE",t[t.FILLED_CIRCLE=7]="FILLED_CIRCLE"}(tt||(tt={}));var nt=tt,it=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(t,i,a,r){var s;return Object(p.a)(this,n),(s=e.call(this)).from=void 0,s.fromAnchor=void 0,s.fromTip=nt.NONE,s.to=void 0,s.toAnchor=void 0,s.toTip=nt.NONE,s.linePattern=et.SOLID,s.from=t,s.fromAnchor=i,s.to=a,s.toAnchor=r,s}return Object(y.a)(n,[{key:"getX1",value:function(){return this.from.getLeft()+B(this.fromAnchor)*this.from.getWidth()}},{key:"getY1",value:function(){return this.from.getTop()+X(this.fromAnchor)*this.from.getHeight()}},{key:"getX2",value:function(){return this.to.getLeft()+B(this.toAnchor)*this.to.getWidth()}},{key:"getY2",value:function(){return this.to.getTop()+X(this.toAnchor)*this.to.getHeight()}},{key:"getAngle",value:function(){return Math.atan2(this.getY2()-this.getY1(),this.getX2()-this.getX1())}},{key:"render",value:function(t){t.renderRelationship(this)}}]),n}(J),at=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(t){t.renderSeparator(this)}}]),n}(J),rt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(t){t.renderStereotype(this)}}]),n}(J),st=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(t){var i;return Object(p.a)(this,n),(i=e.call(this)).text=void 0,i.text=t,i}return Object(y.a)(n,[{key:"render",value:function(t){t.renderText(this)}}]),n}(J),ct=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(t){t.renderTitle(this)}}]),n}(st),ot=function(){function t(){Object(p.a)(this,t)}return Object(y.a)(t,[{key:"saveToString",value:function(t){var e="title: ".concat(t.title),n=t.xml,i=t.css;return this.joinSections(e,n,i)}},{key:"loadFromString",value:function(t){var e,n=this.splitSections(t,3),i=Object(o.a)(n,3),a=i[0],r=i[1],s=i[2];return{title:null!==(e=this.parseHeader(a).title)&&void 0!==e?e:"Untitled",xml:r,css:s}}},{key:"joinSections",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map((function(t){return t.trim()})).join("\n---\n")+"\n"}},{key:"splitSections",value:function(t,e){var n=t.split("\n---\n");if(n.length!==e)throw new Error("Expected ".concat(e," sections"));return n}},{key:"parseHeader",value:function(t){var e,n={},i=Object(C.a)(t.split(/\r\n|[\r\n]/));try{for(i.s();!(e=i.n()).done;){var a=e.value.split(/:\s*/,2),r=Object(o.a)(a,2),s=r[0],c=r[1];n[s]=c}}catch(u){i.e(u)}finally{i.f()}return n}}]),t}(),ut=n(40),lt=n(20),ht=function(){function t(){Object(p.a)(this,t),this.parser=void 0,this.serializer=void 0,this.elementMap=new Map,this.parser=new DOMParser,this.serializer=new XMLSerializer}return Object(y.a)(t,[{key:"deserialize",value:function(t){this.elementMap.clear();var e=this.parser.parseFromString(t,"text/xml"),n=this.parseElement(e.documentElement);return n instanceof Q?n:new Q}},{key:"serialize",value:function(t){if(this.hasElement(t)){var e=this.getElement(t);return this.serializer.serializeToString(e)}return""}},{key:"updateElement",value:function(t){if(this.hasElement(t)){var e=this.getElement(t);t instanceof q&&this.setClassifier(e,t)}}},{key:"parseElement",value:function(t){if(this.elementMap.has(t))return this.elementMap.get(t);var e=this.doParseElement(t);return this.elementMap.set(t,e),e}},{key:"doParseElement",value:function(t){switch(t.tagName){case"Diagram":return this.parseDiagram(t);case"Classifier":return this.parseClassifier(q,t);case"Relationship":return this.parseRelationship(it,t);case"Title":return this.parseTitle(t);case"Method":case"Text":return this.parseText(t);case"Separator":return new at;case"Stereotype":return new rt}throw new Error("Unknown tag: ".concat(t.tagName))}},{key:"parseDiagram",value:function(t){var e=new Q;return this.parseChildren(t,e),e}},{key:"parseClassifier",value:function(t,e){var n=new t(this.parseAnchorAttribute(e,"anchor"),this.parseIntAttribute(e,"x",0),this.parseIntAttribute(e,"y",0),this.parseIntAttribute(e,"width",200),this.parseIntAttribute(e,"height",120));return n.shape=this.parseEnumAttribute($,e,"shape",n.shape),this.parseChildren(e,n),n}},{key:"setClassifier",value:function(t,e){this.setIntAttribute(t,"x",0,e.getX()),this.setIntAttribute(t,"y",0,e.getY()),this.setIntAttribute(t,"width",200,e.getWidth()),this.setIntAttribute(t,"height",120,e.getHeight())}},{key:"parseRelationship",value:function(t,e){var n=new t(this.parseClassifierAttribute(e,"from"),this.parseAnchorAttribute(e,"fromAnchor"),this.parseClassifierAttribute(e,"to"),this.parseAnchorAttribute(e,"toAnchor"));return n.fromTip=this.parseTipAttribute(e,"fromTip",n.fromTip),n.toTip=this.parseTipAttribute(e,"toTip",n.toTip),n.linePattern=this.parseLinePatternAttribute(e,"linePattern",n.linePattern),n}},{key:"parseTitle",value:function(t){var e,n=null!==(e=t.textContent)&&void 0!==e?e:"";return new ct(n)}},{key:"parseText",value:function(t){var e,n=null!==(e=t.textContent)&&void 0!==e?e:"";return new st(n)}},{key:"parseChildren",value:function(t,e){var n,i=Object(C.a)(t.children);try{for(i.s();!(n=i.n()).done;){var a=n.value;try{e.addChild(this.parseElement(a))}catch(r){console.error(r)}}}catch(r){i.e(r)}finally{i.f()}}},{key:"parseClassifierAttribute",value:function(t,e){if(t.hasAttribute(e)){var n=t.getAttribute(e),i=t.ownerDocument.getElementById(n);if(null!==i){var a=this.parseElement(i);if(a instanceof q)return a}}throw new Error("Invalid classifier: <".concat(t.tagName," ").concat(e,'="').concat(t.getAttribute(e),'" />'))}},{key:"parseAnchorAttribute",value:function(t,e){return this.parseEnumAttribute(z,t,e,z.S)}},{key:"parseTipAttribute",value:function(t,e,n){return this.parseEnumAttribute(nt,t,e,n)}},{key:"parseLinePatternAttribute",value:function(t,e,n){return this.parseEnumAttribute(et,t,e,n)}},{key:"parseEnumAttribute",value:function(t,e,n,i){if(e.hasAttribute(n)){var a=e.getAttribute(n),r=Reflect.get(t,a.toUpperCase());if(void 0!==r)return r}return i}},{key:"parseIntAttribute",value:function(t,e,n){if(t.hasAttribute(e)){var i=parseInt(t.getAttribute(e),10);if(!Number.isNaN(i))return i}return n}},{key:"setIntAttribute",value:function(t,e,n,i){i!==n?t.setAttribute(e,String(i)):t.removeAttribute(e)}},{key:"hasElement",value:function(t){var e,n=Object(C.a)(this.elementMap.values());try{for(n.s();!(e=n.n()).done;){if(e.value===t)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"getElement",value:function(t){var e,n=Object(C.a)(this.elementMap);try{for(n.s();!(e=n.n()).done;){var i=Object(o.a)(e.value,2),a=i[0];if(i[1]===t)return a}}catch(r){n.e(r)}finally{n.f()}}}]),t}(),vt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).toTip=nt.DIAMOND,t}return n}(it),ft=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).linePattern=et.DOTS,t}return n}(it),dt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return n}(it),gt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"getTagName",value:function(){return"Class"}}]),n}(q),pt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).shape=$.COMPONENT,t}return Object(y.a)(n,[{key:"getTagName",value:function(){return"Component"}}]),n}(q),yt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).toTip=nt.FILLED_DIAMOND,t}return n}(it),bt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"getTagName",value:function(){return"DataType"}}]),n}(q),mt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).toTip=nt.ARROW,t.linePattern=et.TIGHT_DASHES,t}return n}(it),Ot=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).toTip=nt.ARROW,t}return n}(it),jt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"getTagName",value:function(){return"Enumeration"}}]),n}(q),xt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).toTip=nt.TRIANGLE,t}return n}(it),kt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).toTip=nt.TRIANGLE,t.linePattern=et.TIGHT_DASHES,t}return n}(it),St=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"getTagName",value:function(){return"Interface"}}]),n}(q),wt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).shape=$.NOTE,t}return Object(y.a)(n,[{key:"getTagName",value:function(){return"Note"}}]),n}(q),Tt=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){var t;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).shape=$.FOLDER,t}return Object(y.a)(n,[{key:"getTagName",value:function(){return"Package"}}]),n}(q),Et=function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"getTagName",value:function(){return"Primitive"}}]),n}(q),At=new(function(t){Object(j.a)(n,t);var e=Object(x.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"doParseElement",value:function(t){switch(t.tagName){case"Aggregation":return this.parseRelationship(vt,t);case"Anchor":return this.parseRelationship(ft,t);case"Association":return this.parseRelationship(dt,t);case"Class":return this.parseClassifier(gt,t);case"Component":return this.parseClassifier(pt,t);case"Composition":return this.parseRelationship(yt,t);case"DataType":return this.parseClassifier(bt,t);case"Dependency":return this.parseRelationship(mt,t);case"DirectedAssociation":return this.parseRelationship(Ot,t);case"Enumeration":return this.parseClassifier(jt,t);case"Generalization":return this.parseRelationship(xt,t);case"Implementation":return this.parseRelationship(kt,t);case"Interface":return this.parseClassifier(St,t);case"Note":return this.parseClassifier(wt,t);case"Package":return this.parseClassifier(Tt,t);case"Primitive":return this.parseClassifier(Et,t);default:return Object(ut.a)(Object(lt.a)(n.prototype),"doParseElement",this).call(this,t)}}}]),n}(ht)),Ct=new ot,Nt=n(17);var Rt=function(t){var e=t.children;return Object(i.jsx)("div",{className:"container-fluid",children:e})};var Lt=function(){return Object(i.jsx)("li",{children:Object(i.jsx)("hr",{className:"dropdown-divider"})})},It=n(14),Dt=n.n(It);var Pt=function(t){var e=t.shortcut,n=Object(u.a)(),a=new Map([["Ctrl",n.formatMessage({id:"shortcut.ctrl",defaultMessage:"Ctrl"})],["Alt",n.formatMessage({id:"shortcut.alt",defaultMessage:"Alt"})],["Shift",n.formatMessage({id:"shortcut.shift",defaultMessage:"Shift"})]]),r=e.split("-").map((function(t){var e;return null!==(e=a.get(t))&&void 0!==e?e:t})).join(" ");return Object(i.jsx)("span",{className:"text-muted float-end",children:r})};var Ht=function(t){var e=t.onClick,n=t.shortcut,a=t.children;return Y(n,(function(){null===e||void 0===e||e()})),Object(i.jsx)("li",{children:Object(i.jsxs)("button",{onClick:function(t){t.preventDefault(),null===e||void 0===e||e()},className:Dt()("btn","btn-link","dropdown-item"),children:[a,n&&Object(i.jsx)(Pt,{shortcut:n})]})})};var Mt=function(t){var e=t.placement,n=void 0===e?"start":e,a=t.labelledBy,r=t.children;return Object(i.jsx)("ul",{className:Dt()("dropdown-menu","dropdown-menu-".concat(n)),"aria-labelledby":a,children:r})},Wt=n(39);var Ft=function(t){var e=t.id,n=t.className,r=t.children,s=Object(a.useRef)(null);return Object(i.jsx)("button",{id:e,ref:function(t){var e;null===t?(null===(e=s.current)||void 0===e||e.dispose(),s.current=null):s.current=new Wt.a(t)},"aria-expanded":"false","data-bs-toggle":"dropdown",className:Dt()("btn","btn-link","dropdown-toggle",n),children:r})},Gt=n(13),Yt=n.n(Gt);n(52),n(53),n(54),n(55),n(56),n(58),n(59),n(60),n(61),n(62);function zt(t,e){return(null===e||void 0===e?void 0:e())&&setTimeout((function(){t.state.completionActive||t.showHint({completeSingle:!1})}),100),Yt.a.Pass}function Bt(t){return zt(t,(function(){var e=t.getCursor();return"<"===t.getRange(Yt.a.Pos(e.line,e.ch-1),e)}))}function Xt(t){return zt(t,(function(){var e=t.getTokenAt(t.getCursor());return!!("string"!==e.type||/['"]/.test(e.string.charAt(e.string.length-1))&&1!==e.string.length)&&Yt.a.innerMode(t.getMode(),e.state).state.tagName}))}var Ut=function(t){var e=t.language,n=t.value,r=t.schema,s=t.onChange,c=Object(a.useRef)(s),o=Object(a.useRef)(null),u=Object(a.useRef)(null);return Object(a.useEffect)((function(){c.current=s}),[s]),Object(a.useEffect)((function(){var t="xml"===e?"xml":"text/x-scss",n={schemaInfo:r},i=Yt.a.fromTextArea(o.current,{mode:t,lineNumbers:!0,theme:"nord",matchTags:!0,autocorrect:!0,extraKeys:{"'<'":zt,"'/'":Bt,"' '":Xt,"'='":Xt,"Ctrl-Space":"autocomplete","Ctrl-/":"toggleComment"},hintOptions:n});return u.current=i,function(){i.toTextArea()}}),[e,r]),Object(a.useEffect)((function(){function t(){var t,e=u.current.getValue();e!==n&&(null===(t=c.current)||void 0===t||t.call(c,e))}return u.current.getValue()!==n&&u.current.setValue(n),u.current.on("change",t),function(){u.current.off("change",t)}}),[n]),Object(i.jsx)("textarea",{ref:o,defaultValue:n})};n(63);var Vt=function(t){var e=t.country;return Object(i.jsx)("span",{className:Dt()("Flag me-2",e)})},_t=n(36);n(64);var Kt=function(t){var e=t.name,n=t.color,a=void 0===n?O.DARK:n,r=t.size,s=void 0===r?20:r;return Object(i.jsx)("svg",{className:"Icon me-2",width:s,height:s,fill:a.toHexString(),children:Object(i.jsx)("use",{xlinkHref:"".concat(_t.a,"#").concat(e)})})},Jt=n(74),Zt=n.p+"static/media/logo.4da087a9.png";var $t=function(t){var e=t.children;return Object(i.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",style:{gridArea:"menu"},children:Object(i.jsxs)(Rt,{children:[Object(i.jsxs)("span",{className:"navbar-brand",children:[Object(i.jsx)("img",{alt:"Logo",src:Zt,height:32,width:32,className:"d-inline-block align-top"})," ",Object(i.jsx)(Jt.a,{id:"title",defaultMessage:"UML Editor"})]}),Object(i.jsx)("ul",{className:"navbar-nav me-auto d-flex flex-grow-1",children:e})]})})};var qt=function(t){var e=t.active,n=void 0!==e&&e,a=t.placement,r=t.title,s=t.children,c=W("Menu");return Object(i.jsxs)("li",{className:"nav-item dropdown",children:[Object(i.jsx)(Ft,{id:c,className:Dt()("nav-link",{active:n}),children:r}),Object(i.jsx)(Mt,{placement:a,labelledBy:c,children:s})]})};n(65);var Qt=function(t){var e=t.onFileChange,n=Object(u.a)();return Object(i.jsxs)(Ht,{onClick:function(){var t=n.formatMessage({id:"untitled",defaultMessage:"Untitled"}),i=n.formatMessage({id:"file.new.message",defaultMessage:"Choose a title for the new document"}),a=window.prompt(i,t);null!==a&&e({title:a,css:g,xml:d})},children:[Object(i.jsx)(Kt,{name:"file-earmark-plus"})," ",Object(i.jsx)(Jt.a,{id:"file.new",defaultMessage:"New ..."})]})};function te(t){var e=t.clientX,n=t.clientY,i=t.currentTarget.getBoundingClientRect();return{x:e-i.x-i.width/2,y:n-i.y-i.height/2}}function ee(t){return t.replace(/[^a-zA-Z_-]+/g,"-")}function ne(t,e){var n=document.createElement("a");n.download=t,n.href=e,n.click()}var ie=function(t){var e=t.onFileChange;return Object(i.jsxs)(Ht,{onClick:function(){var t;(t=".uml",new Promise((function(e){var n=document.createElement("input");n.addEventListener("change",(function(){n.files.length>0&&e(n.files.item(0).text())}),{once:!0}),n.type="file",n.accept=t,n.multiple=!1,n.click()}))).then((function(t){var n=Ct.loadFromString(t);e(n)}))},shortcut:"Ctrl-O",children:[Object(i.jsx)(Kt,{name:"folder"})," ",Object(i.jsx)(Jt.a,{id:"file.open",defaultMessage:"Open ..."})]})};var ae=function(t){var e=t.file,n=t.onTitleChange,a=Object(u.a)();return Object(i.jsxs)(Ht,{onClick:function(){var t=a.formatMessage({id:"file.rename.message",defaultMessage:"New document title"}),i=window.prompt(t,e.title);null!==i&&n(i)},children:[Object(i.jsx)(Kt,{name:"pencil"})," ",Object(i.jsx)(Jt.a,{id:"file.rename",defaultMessage:'Rename "{title}" ...',values:{title:e.title}})]})};var re=function(t){var e=t.file;return Object(i.jsxs)(Ht,{onClick:function(){var t=btoa(Ct.saveToString(e)),n=new URL("data:text/x-uml;base64,".concat(t));ne("".concat(ee(e.title),".uml"),n.toString())},shortcut:"Ctrl-S",children:[Object(i.jsx)(Kt,{name:"cloud-download"})," ",Object(i.jsx)(Jt.a,{id:"file.save",defaultMessage:"Save ..."})]})};var se=function(t){var e=t.viewOptions,n=t.onViewOptionsChange,a=e.grid,r=a?"grid-3x3-gap-fill":"grid-3x3-gap";return Object(i.jsxs)(Ht,{onClick:function(){n(Object(Nt.a)(Object(Nt.a)({},e),{},{grid:!a}))},shortcut:"Alt-G",children:[Object(i.jsx)(Kt,{name:r})," ",Object(i.jsx)(Jt.a,{id:"view.grid",defaultMessage:"Toggle Grid"})]})},ce=function(){function t(e,n,i){Object(p.a)(this,t),this.renderer=void 0,this.context=void 0,this.canvas=void 0,this.renderer=e,this.context=n,this.canvas=i}return Object(y.a)(t,[{key:"renderClassifier",value:function(t){this.context.push(t.getTagName(),t.getWidth()-20,t.getHeight()-20),this.canvas.save(),this.canvas.translate(t.getLeft(),t.getTop()),this.applyStyle(t),this.drawShape(t),this.canvas.fill(),this.canvas.stroke(),this.canvas.clip(),this.canvas.translate(h,h);var e,n=Object(C.a)(t.getChildren());try{for(n.s();!(e=n.n()).done;){e.value.render(this.renderer)}}catch(i){n.e(i)}finally{n.f()}this.canvas.restore(),this.context.pop()}},{key:"isPointInClassifier",value:function(t,e,n){this.canvas.save(),this.canvas.translate(t.getLeft(),t.getTop()),this.drawShape(t);var i=this.canvas.isPointInPath(e,n);return this.canvas.restore(),i}},{key:"applyStyle",value:function(t){var e=this.context.getStyleProperties();this.canvas.lineWidth=e.getFloat("line-width",1.5),this.canvas.strokeColor=e.getColor("stroke",O.DARK);var n=e.getColor("fill",O.WHITE);t.isHovered()&&(n=n.mix(O.INFO,.25)),this.canvas.fillColor=n}},{key:"drawShape",value:function(t){switch(this.canvas.beginPath(),t.shape){case $.RECTANGLE:return void this.drawRectangleShape(t);case $.ELLIPSE:return void this.drawEllipseShape(t);case $.FOLDER:return void this.drawFolderShape(t);case $.NOTE:return void this.drawNoteShape(t);case $.BOX:return void this.drawBoxShape(t);case $.FILE:return void this.drawFileShape(t);case $.COMPONENT:return void this.drawComponentShape(t)}}},{key:"drawBoxShape",value:function(t){var e=20,n=t.getWidth(),i=t.getHeight();this.canvas.rect(0,0,n,i),this.canvas.moveTo(0,0),this.canvas.lineTo(n,0),this.canvas.lineTo(n+e,-20),this.canvas.lineTo(e,-20),this.canvas.closePath(),this.canvas.moveTo(n,0),this.canvas.lineTo(n,i),this.canvas.lineTo(n+e,i-e),this.canvas.lineTo(n+e,-20),this.canvas.closePath()}},{key:"drawRectangleShape",value:function(t){this.canvas.rect(0,0,t.getWidth(),t.getHeight())}},{key:"drawEllipseShape",value:function(t){var e=t.getWidth(),n=t.getHeight();this.canvas.ellipse(0,0,e,n)}},{key:"drawFolderShape",value:function(t){this.canvas.rect(0,-20,80,20),this.canvas.rect(0,0,t.getWidth(),t.getHeight())}},{key:"drawNoteShape",value:function(t){var e=30,n=t.getWidth(),i=t.getHeight();this.canvas.moveTo(0,0),this.canvas.lineTo(0,i),this.canvas.lineTo(n-e,i),this.canvas.lineTo(n,i-e),this.canvas.lineTo(n,0),this.canvas.closePath(),this.canvas.moveTo(n-e,i),this.canvas.lineTo(n,i-e),this.canvas.lineTo(n-e,i-e),this.canvas.closePath()}},{key:"drawFileShape",value:function(t){var e=t.getWidth(),n=t.getHeight(),i=30;this.canvas.moveTo(i,0),this.canvas.lineTo(0,i),this.canvas.lineTo(0,n),this.canvas.lineTo(e,n),this.canvas.lineTo(e,0),this.canvas.closePath(),this.canvas.moveTo(i,0),this.canvas.lineTo(0,i),this.canvas.lineTo(i,i),this.canvas.closePath()}},{key:"drawComponentShape",value:function(t){var e=t.getWidth(),n=t.getHeight(),i=40,a=20,r=(n-60)/2;this.canvas.moveTo(0,0),this.canvas.lineTo(0,r),this.canvas.lineTo(20,r),this.canvas.lineTo(20,r+a),this.canvas.lineTo(0,r+a),this.canvas.lineTo(0,r+40),this.canvas.lineTo(20,r+40),this.canvas.lineTo(20,r+60),this.canvas.lineTo(0,r+60),this.canvas.lineTo(0,n),this.canvas.lineTo(e,n),this.canvas.lineTo(e,0),this.canvas.closePath(),this.canvas.rect(-20,r,i,a),this.canvas.rect(-20,r+40,i,a)}}]),t}(),oe=function(){function t(e){Object(p.a)(this,t),this.canvas=void 0,this.canvas=e}return Object(y.a)(t,[{key:"renderRelationship",value:function(t){this.canvas.save(),this.canvas.beginPath(),this.canvas.moveTo(t.getX1(),t.getY1()),this.canvas.lineTo(t.getX2(),t.getY2()),this.applyRelationshipStyle(t),this.canvas.stroke(),this.drawFromTip(t),this.drawToTip(t),this.canvas.restore()}},{key:"applyRelationshipStyle",value:function(t){switch(this.canvas.lineWidth=1.5,this.canvas.strokeColor=O.DARK,this.canvas.fillColor=O.WHITE,t.linePattern){case et.SOLID:this.canvas.setLineDash([]);break;case et.DOTS:this.canvas.setLineDash([2,2]);break;case et.SMALL_DASHES:this.canvas.setLineDash([5,5]);break;case et.LARGE_DASHES:this.canvas.setLineDash([10,10]);break;case et.TIGHT_DASHES:this.canvas.setLineDash([15,5])}}},{key:"drawFromTip",value:function(t){t.fromTip!==nt.NONE&&(this.canvas.setLineDash([]),this.canvas.save(),this.canvas.translate(t.getX1(),t.getY1()),this.canvas.rotate(t.getAngle()+Math.PI),this.drawTip(t.fromTip),this.canvas.restore())}},{key:"drawToTip",value:function(t){t.toTip!==nt.NONE&&(this.canvas.setLineDash([]),this.canvas.save(),this.canvas.translate(t.getX2(),t.getY2()),this.canvas.rotate(t.getAngle()),this.drawTip(t.toTip),this.canvas.restore())}},{key:"drawTip",value:function(t){switch(t){case nt.ARROW:this.drawArrow();break;case nt.TRIANGLE:this.drawTriangle();break;case nt.FILLED_TRIANGLE:this.canvas.fillColor=this.canvas.strokeColor,this.drawTriangle();break;case nt.DIAMOND:this.drawDiamond();break;case nt.FILLED_DIAMOND:this.canvas.fillColor=this.canvas.strokeColor,this.drawDiamond();break;case nt.CIRCLE:this.drawCircle();break;case nt.FILLED_CIRCLE:this.canvas.fillColor=this.canvas.strokeColor,this.drawCircle()}}},{key:"drawArrow",value:function(){this.canvas.beginPath(),this.canvas.moveTo(0,0),this.canvas.lineTo(-20,8),this.canvas.moveTo(0,0),this.canvas.lineTo(-20,-8),this.canvas.closePath(),this.canvas.stroke()}},{key:"drawTriangle",value:function(){this.canvas.beginPath(),this.canvas.moveTo(0,0),this.canvas.lineTo(-20,10),this.canvas.lineTo(-20,-10),this.canvas.closePath(),this.canvas.fill(),this.canvas.stroke()}},{key:"drawDiamond",value:function(){this.canvas.beginPath(),this.canvas.moveTo(0,0),this.canvas.lineTo(-15,8),this.canvas.lineTo(-30,0),this.canvas.lineTo(-15,-8),this.canvas.closePath(),this.canvas.fill(),this.canvas.stroke()}},{key:"drawCircle",value:function(){this.canvas.beginPath(),this.canvas.ellipse(-20,-10,20,20),this.canvas.closePath(),this.canvas.fill(),this.canvas.stroke()}}]),t}(),ue=function t(e,n,i){Object(p.a)(this,t),this.x=void 0,this.y=void 0,this.anchor=void 0,this.x=e,this.y=n,this.anchor=i},le=function(){function t(e){Object(p.a)(this,t),this.ctx=void 0,this.ctx=e}return Object(y.a)(t,[{key:"setLineDash",value:function(t){this.ctx.setLineDash(t)}},{key:"save",value:function(){this.ctx.save()}},{key:"restore",value:function(){this.ctx.restore()}},{key:"translate",value:function(t,e){this.ctx.translate(t,e)}},{key:"rotate",value:function(t){this.ctx.rotate(t)}},{key:"beginPath",value:function(){this.ctx.beginPath()}},{key:"rect",value:function(t,e,n,i){this.ctx.rect(t,e,n,i)}},{key:"ellipse",value:function(t,e,n,i){var a=n/2,r=i/2;this.ctx.ellipse(t+a,e+r,a,r,0,0,2*Math.PI)}},{key:"moveTo",value:function(t,e){this.ctx.moveTo(t,e)}},{key:"lineTo",value:function(t,e){this.ctx.lineTo(t,e)}},{key:"isPointInPath",value:function(t,e){return this.ctx.isPointInPath(t,e)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"fill",value:function(){this.ctx.fill()}},{key:"stroke",value:function(){this.ctx.stroke()}},{key:"clip",value:function(){this.ctx.clip()}},{key:"fillText",value:function(t,e,n,i){var a=this.ctx.measureText(t),r=i+a.fontBoundingBoxAscent,s=n;"middle"===e?s+=a.width/2:"end"===e&&(s+=a.width),this.ctx.fillText(t,s,r)}},{key:"getFontAttribute",value:function(t){return this.ctx.font.split(" ",4)[t]}},{key:"updateFontAttribute",value:function(t,e){var n=this.ctx.font.split(" ",4);n[t]=e,this.ctx.font=n.join(" ")}},{key:"fillColor",get:function(){return O.fromHexString(String(this.ctx.fillStyle))},set:function(t){this.ctx.fillStyle=t.toHexString()}},{key:"strokeColor",get:function(){return O.fromHexString(String(this.ctx.strokeStyle))},set:function(t){this.ctx.strokeStyle=t.toHexString()}},{key:"lineWidth",get:function(){return this.ctx.lineWidth},set:function(t){this.ctx.lineWidth=t}},{key:"fontStyle",get:function(){return this.getFontAttribute(0)},set:function(t){this.updateFontAttribute(0,t)}},{key:"fontWeight",get:function(){return this.getFontAttribute(1)},set:function(t){this.updateFontAttribute(1,t)}},{key:"fontSize",get:function(){return this.getFontAttribute(2)},set:function(t){this.updateFontAttribute(2,t)}},{key:"fontFamily",get:function(){return this.getFontAttribute(3)},set:function(t){this.updateFontAttribute(3,t)}}]),t}(),he=function(){function t(e,n,i){Object(p.a)(this,t),this.width=void 0,this.height=void 0,this.context=void 0,this.style=void 0,this.width=[e],this.height=[n],this.context=[],this.style=i}return Object(y.a)(t,[{key:"push",value:function(t,e,n){this.context.unshift(t),this.width.unshift(null!==e&&void 0!==e?e:this.getWidth()),this.height.unshift(null!==n&&void 0!==n?n:this.getHeight())}},{key:"pop",value:function(){this.context.shift(),this.width.shift(),this.height.shift()}},{key:"getName",value:function(){return this.context[0]}},{key:"getWidth",value:function(){return this.width[0]}},{key:"getHeight",value:function(){return this.height[0]}},{key:"getStyleProperties",value:function(){return this.style.getProperties(Object(R.a)(this.context).reverse())}}]),t}(),ve=function(){function t(e,n,i){Object(p.a)(this,t),this.context=void 0,this.canvas=void 0,this.classifierRenderer=void 0,this.relationshipRenderer=void 0,this.translateX=void 0,this.translateY=void 0,this.context=new he(e.width,e.height,n),this.translateX=i.translateX,this.translateY=i.translateY,this.canvas=e.getContext("2d");var a=new le(this.canvas);this.classifierRenderer=new ce(this,this.context,a),this.relationshipRenderer=new oe(a)}return Object(y.a)(t,[{key:"clear",value:function(){this.canvas.clearRect(0,0,this.context.getWidth(),this.context.getHeight())}},{key:"renderGrid",value:function(){var t=-Math.floor(this.translateX/l)*l,e=Math.floor(this.context.getWidth()-this.translateX/l)*l,n=-Math.floor(this.translateY/l)*l,i=Math.floor(this.context.getHeight()-this.translateY/l)*l;this.canvas.save(),this.canvas.translate(this.translateX,this.translateY),this.canvas.beginPath(),this.canvas.strokeStyle="#00000033";for(var a=t;a<e;a+=l)this.canvas.moveTo(a,-this.translateY),this.canvas.lineTo(a,this.context.getHeight()-this.translateY);for(var r=n;r<i;r+=l)this.canvas.moveTo(-this.translateX,r),this.canvas.lineTo(this.context.getWidth()-this.translateX,r);this.canvas.stroke(),this.canvas.restore()}},{key:"renderDiagram",value:function(t){this.canvas.save(),this.canvas.translate(this.translateX,this.translateY);var e,n=Object(C.a)(t.getChildren());try{for(n.s();!(e=n.n()).done;){e.value.render(this)}}catch(i){n.e(i)}finally{n.f()}this.renderHandles(t),this.canvas.restore()}},{key:"renderClassifier",value:function(t){this.classifierRenderer.renderClassifier(t)}},{key:"isPointInClassifier",value:function(t,e,n){return this.classifierRenderer.isPointInClassifier(t,e,n)}},{key:"renderRelationship",value:function(t){this.relationshipRenderer.renderRelationship(t)}},{key:"renderText",value:function(t){this.context.push("Text"),this.drawText(t.text,"14pt","left"),this.canvas.translate(0,20),this.context.pop()}},{key:"renderTitle",value:function(t){this.context.push("Title"),this.drawText(t.text,"14pt","center"),this.canvas.translate(0,20),this.context.pop()}},{key:"renderSeparator",value:function(t){this.canvas.save(),this.canvas.beginPath(),this.canvas.moveTo(-10,h),this.canvas.lineTo(this.context.getWidth()+h,h),this.canvas.lineWidth=1.5,this.canvas.strokeStyle="#212529",this.canvas.stroke(),this.canvas.restore(),this.canvas.translate(0,20)}},{key:"renderStereotype",value:function(t){var e=this.context.getName();this.context.push("Stereotype"),this.drawText("\xab".concat(e,"\xbb"),"12pt","center"),this.canvas.translate(0,20),this.context.pop()}},{key:"drawText",value:function(t,e,n){var i=this.context.getStyleProperties(),a=i.getString("font-weight","normal"),r=i.getString("font-style","normal"),s=i.getString("font-family","Arial, Helvetica, system-ui, sans-serif");this.canvas.save(),this.canvas.beginPath(),this.canvas.font="".concat(r," ").concat(a," ").concat(e," ").concat(s),this.canvas.fillStyle=i.getColor("color",O.DARK).toHexString();var c=this.canvas.measureText(t),o="center"===n?(this.context.getWidth()-c.width)/2:0;this.canvas.fillText(t,o,c.fontBoundingBoxAscent),this.canvas.restore()}},{key:"renderHandles",value:function(t){this.canvas.save(),this.canvas.fillStyle="white",this.canvas.strokeStyle="black",this.canvas.lineWidth=1;var e,n=Object(C.a)(this.getHandles(t));try{for(n.s();!(e=n.n()).done;){var i=e.value,a=i.x,r=i.y;this.renderHandleAtPoint(a,r)}}catch(s){n.e(s)}finally{n.f()}this.canvas.restore()}},{key:"getHandles",value:_.a.mark((function t(e){var n,i,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(C.a)(e.getChildren()),t.prev=1,n.s();case 3:if((i=n.n()).done){t.next=9;break}if(!((a=i.value)instanceof q&&a.isSelected())){t.next=7;break}return t.delegateYield(this.getClassifierHandles(a),"t0",7);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(1),n.e(t.t1);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"renderHandleAtPoint",value:function(t,e){this.canvas.beginPath(),this.canvas.rect(t-f,e-f,9,9),this.canvas.fill(),this.canvas.stroke()}},{key:"findHandleForPoint",value:function(t,e,n){var i,a=Object(C.a)(this.getHandles(t));try{for(a.s();!(i=a.n()).done;){var r=i.value;if(this.isPointInHandle(r,e,n))return r}}catch(s){a.e(s)}finally{a.f()}}},{key:"isPointInHandle",value:function(t,e,n){return Math.abs(e-t.x)<=f&&Math.abs(n-t.y)<=f}},{key:"getClassifierHandles",value:_.a.mark((function t(e){var n,i,a,r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getLeft(),i=e.getRight(),a=e.getTop(),r=e.getBottom(),t.next=6,new ue(n,a,z.NW);case 6:return t.next=8,new ue(e.getCenterX(),a,z.N);case 8:return t.next=10,new ue(i,a,z.NE);case 10:return t.next=12,new ue(n,e.getCenterY(),z.W);case 12:return t.next=14,new ue(i,e.getCenterY(),z.E);case 14:return t.next=16,new ue(n,r,z.SW);case 16:return t.next=18,new ue(e.getCenterX(),r,z.S);case 18:return t.next=20,new ue(i,r,z.SE);case 20:case"end":return t.stop()}}),t)}))}]),t}(),fe=function(){function t(e){Object(p.a)(this,t),this.fillColor=O.WHITE,this.strokeColor=O.DARK,this.lineWidth=1,this.fontFamily="system-ui",this.fontSize="1rem",this.fontStyle="normal",this.fontWeight="normal",this.document=void 0,this.stack=void 0,this.paths=[],this.saved=[],this.path=void 0,this.dash=[],this.document=e.ownerDocument,this.stack=[e]}return Object(y.a)(t,[{key:"setLineDash",value:function(t){this.dash=t}},{key:"save",value:function(){this.saved.push(this.getContainer())}},{key:"restore",value:function(){var t=this.saved.pop();this.stack.splice(this.stack.indexOf(t)+1)}},{key:"translate",value:function(t,e){var n=this.createSVG("g");n.setAttribute("transform","translate(".concat(t,",").concat(e,")")),this.getContainer().append(n),this.stack.push(n)}},{key:"rotate",value:function(t){var e=this.createSVG("g");e.setAttribute("transform","rotate(".concat(this.radiansToDegrees(t),")")),this.getContainer().append(e),this.stack.push(e)}},{key:"beginPath",value:function(){this.paths.splice(0)}},{key:"rect",value:function(t,e,n,i){var a=this.createSVG("rect");a.setAttribute("x",String(t)),a.setAttribute("y",String(e)),a.setAttribute("width",String(n)),a.setAttribute("height",String(i)),this.paths.push(a)}},{key:"ellipse",value:function(t,e,n,i){var a=this.createSVG("ellipse"),r=n/2,s=i/2;a.setAttribute("cx",String(t+r)),a.setAttribute("cy",String(e+s)),a.setAttribute("rx",String(r)),a.setAttribute("ry",String(s)),this.paths.push(a)}},{key:"moveTo",value:function(t,e){this.path=this.createSVG("path"),this.path.setAttribute("d","M".concat(t,",").concat(e)),this.paths.push(this.path)}},{key:"lineTo",value:function(t,e){var n=this.path.getAttribute("d");this.path.setAttribute("d","".concat(n," L").concat(t,",").concat(e))}},{key:"closePath",value:function(){var t=this.path.getAttribute("d");this.path.setAttribute("d","".concat(t," Z"))}},{key:"isPointInPath",value:function(t,e){return!1}},{key:"fill",value:function(){this.appendPaths();var t,e=Object(C.a)(this.paths);try{for(e.s();!(t=e.n()).done;){t.value.setAttribute("fill",this.fillColor.toHexString())}}catch(n){e.e(n)}finally{e.f()}}},{key:"stroke",value:function(){this.appendPaths();var t,e=Object(C.a)(this.paths);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.setAttribute("stroke",this.strokeColor.toHexString()),n.setAttribute("stroke-width",String(this.lineWidth)),n.setAttribute("stroke-dasharray",this.dash.join(" "))}}catch(i){e.e(i)}finally{e.f()}}},{key:"clip",value:function(){}},{key:"fillText",value:function(t,e,n,i){var a=this.createSVG("text");a.setAttribute("x",String(n)),a.setAttribute("y",String(i+10)),a.setAttribute("text-anchor",e),a.setAttribute("font-family",this.fontFamily),a.setAttribute("font-size",this.fontSize),a.setAttribute("font-style",this.fontStyle),a.setAttribute("font-weight",this.fontWeight),a.appendChild(this.document.createTextNode(this.encodeUTF8(t))),this.paths.push(a),this.fill()}},{key:"encodeUTF8",value:function(t){var e=(new TextEncoder).encode(t);return String.fromCharCode.apply(String,Object(R.a)(e))}},{key:"appendPaths",value:function(){var t;(t=this.getContainer()).append.apply(t,Object(R.a)(this.paths))}},{key:"getContainer",value:function(){return this.stack[this.stack.length-1]}},{key:"createSVG",value:function(t){return this.document.createElementNS("http://www.w3.org/2000/svg",t)}},{key:"radiansToDegrees",value:function(t){return 180*t/Math.PI}}]),t}(),de=function(){function t(e,n){Object(p.a)(this,t),this.context=void 0,this.canvas=void 0,this.classifierRenderer=void 0,this.relationshipRenderer=void 0,this.context=new he(e.width.baseVal.value,e.height.baseVal.value,n),this.canvas=new fe(e),this.classifierRenderer=new ce(this,this.context,this.canvas),this.relationshipRenderer=new oe(this.canvas)}return Object(y.a)(t,[{key:"renderDiagram",value:function(t){var e,n=Object(C.a)(t.getChildren());try{for(n.s();!(e=n.n()).done;){e.value.render(this)}}catch(i){n.e(i)}finally{n.f()}}},{key:"renderClassifier",value:function(t){this.classifierRenderer.renderClassifier(t)}},{key:"isPointInClassifier",value:function(t,e,n){return this.classifierRenderer.isPointInClassifier(t,e,n)}},{key:"renderRelationship",value:function(t){this.relationshipRenderer.renderRelationship(t)}},{key:"renderText",value:function(t){this.context.push("Text"),this.drawText(t.text,"14pt","start"),this.canvas.translate(0,20),this.context.pop()}},{key:"renderTitle",value:function(t){this.context.push("Title"),this.drawText(t.text,"14pt","middle"),this.canvas.translate(0,20),this.context.pop()}},{key:"renderStereotype",value:function(t){var e=this.context.getName();this.context.push("Stereotype"),this.drawText("\xab".concat(e,"\xbb"),"12pt","middle"),this.canvas.translate(0,20),this.context.pop()}},{key:"renderSeparator",value:function(t){this.canvas.beginPath(),this.canvas.moveTo(-10,h),this.canvas.lineTo(this.context.getWidth()+h,h),this.canvas.lineWidth=1.5,this.canvas.strokeColor=O.DARK,this.canvas.stroke(),this.canvas.translate(0,20)}},{key:"drawText",value:function(t,e,n){var i=this.context.getStyleProperties();this.canvas.fontWeight=i.getString("font-weight","normal"),this.canvas.fontStyle=i.getString("font-style","normal"),this.canvas.fontSize=i.getString("font-size",e),this.canvas.fontFamily=i.getString("font-family","Arial, Helvetica, system-ui, sans-serif"),this.canvas.save(),this.canvas.beginPath(),this.canvas.fillColor=i.getColor("color",O.DARK);var a="middle"===n?this.context.getWidth()/2:0;this.canvas.fillText(t,n,a,4),this.canvas.restore()}}]),t}();var ge=function(t){var e=t.file;return Object(i.jsxs)(Ht,{onClick:function(){var t=document.createElement("canvas");t.width=e.model.getWidth()+20,t.height=e.model.getHeight()+20,new ve(t,e.style,{translateX:v-e.model.getLeft(),translateY:v-e.model.getTop()}).renderDiagram(e.model);var n=t.toDataURL("image/png");ne("".concat(ee(e.title),".png"),n)},shortcut:"Ctrl-E",children:[Object(i.jsx)(Kt,{name:"image"})," ",Object(i.jsx)(Jt.a,{id:"export.png",defaultMessage:"As PNG ..."})]})};var pe=function(t){var e=t.file;return Object(i.jsxs)(Ht,{onClick:function(){var t=[e.model.getLeft()-v,e.model.getTop()-v,e.model.getWidth()+20,e.model.getHeight()+20].join(" "),n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width",String(e.model.getWidth()+20)),n.setAttribute("height",String(e.model.getHeight()+20)),n.setAttribute("viewBox",t),new de(n,e.style).renderDiagram(e.model);var i=(new XMLSerializer).serializeToString(n),a=new URL("data:image/svg+xml;base64,".concat(btoa(i))).toString();ne("".concat(ee(e.title),".svg"),a)},shortcut:"Ctrl-Shift-E",children:[Object(i.jsx)(Kt,{name:"code-slash"})," ",Object(i.jsx)(Jt.a,{id:"export.svg",defaultMessage:"As SVG ..."})]})};var ye=function(t){var e=t.file,n=t.viewOptions,a=t.onFileChange,r=t.onViewOptionsChange,s=t.onLocaleChange,c=Object(u.a)();return Object(i.jsxs)($t,{children:[Object(i.jsxs)(qt,{title:c.formatMessage({id:"file",defaultMessage:"File"}),children:[Object(i.jsx)(Qt,{onFileChange:a}),Object(i.jsx)(Lt,{}),Object(i.jsx)(ie,{onFileChange:a}),Object(i.jsx)(re,{file:e}),Object(i.jsx)(Lt,{}),Object(i.jsx)(ae,{file:e,onTitleChange:function(t){return a(Object(Nt.a)(Object(Nt.a)({},e),{},{title:t}))}})]}),Object(i.jsx)(qt,{title:c.formatMessage({id:"view",defaultMessage:"View"}),children:Object(i.jsx)(se,{viewOptions:n,onViewOptionsChange:r})}),Object(i.jsxs)(qt,{title:c.formatMessage({id:"export",defaultMessage:"Export"}),children:[Object(i.jsx)(ge,{file:e}),Object(i.jsx)(pe,{file:e})]}),Object(i.jsx)("div",{className:"flex-grow-1"}),Object(i.jsxs)(qt,{placement:"end",title:Object(i.jsx)(Kt,{name:"globe"}),children:[Object(i.jsxs)(Ht,{onClick:function(){return s("de")},children:[Object(i.jsx)(Vt,{country:"de"})," Deutsch"]}),Object(i.jsxs)(Ht,{onClick:function(){return s("en")},children:[Object(i.jsx)(Vt,{country:"uk"})," English"]})]})]})};function be(t,e){return new ve(t,e,{translateX:t.width/2,translateY:t.height/2})}var me=function(t){var e=t.viewOptions,n=t.diagram,r=t.style,s=t.onChange,c=Object(a.useRef)(e),o=Object(a.useRef)(null),u=Object(a.useRef)(null),h=Object(a.useRef)(null),v=Object(a.useRef)(null),f=Object(a.useRef)(null);function d(t){u.current.style.cursor=t}function g(t,e){var i,a,r,c,o=n.find((function(t){return t.isSelected()}));if(o instanceof q){var u=(r={x:t,y:e},c=h.current,i={x:r.x-c.x,y:r.y-c.y},a=l,{x:Math.round(i.x/a)*a,y:Math.round(i.y/a)*a}),d=u.x,g=u.y;if(f.current===o)return o.setLeft(v.current.x+d),o.setTop(v.current.y+g),void(null===s||void 0===s||s(o));f.current instanceof ue&&function(t,e,n,i){e.anchor!==z.W&&e.anchor!==z.NW&&e.anchor!==z.SW||(t.setWidth(v.current.width-n),t.setLeft(v.current.x+n),null===s||void 0===s||s(t)),e.anchor!==z.E&&e.anchor!==z.NE&&e.anchor!==z.SE||(t.setWidth(v.current.width+n),t.setLeft(v.current.x),null===s||void 0===s||s(t)),e.anchor!==z.N&&e.anchor!==z.NW&&e.anchor!==z.NE||(t.setHeight(v.current.height-i),t.setTop(v.current.y+i),null===s||void 0===s||s(t)),e.anchor!==z.S&&e.anchor!==z.SW&&e.anchor!==z.SE||(t.setHeight(v.current.height+i),t.setTop(v.current.y),null===s||void 0===s||s(t))}(o,f.current,d,g)}}return Object(a.useEffect)((function(){c.current=e})),Object(a.useEffect)((function(){function t(){var t=o.current.getBoundingClientRect();u.current.width=Math.trunc(t.width),u.current.height=Math.trunc(t.height);var e=be(u.current,r);e.clear(),c.current.grid&&e.renderGrid(),e.renderDiagram(n)}return window.addEventListener("resize",t),t(),function(){window.removeEventListener("resize",t)}}),[e,n,r]),Object(i.jsx)("div",{ref:o,className:"Canvas",style:{backgroundColor:"hsl(220 9% 92% / 1)",gridArea:"canvas"},children:Object(i.jsx)("canvas",{ref:u,onMouseMove:function(t){var e=be(u.current,r),i=te(t),a=i.x,s=i.y;if(1&t.buttons)return g(a,s),e.clear(),c.current.grid&&e.renderGrid(),void e.renderDiagram(n);var o,l=Object(C.a)(n);try{for(l.s();!(o=l.n()).done;){o.value.setHovered(!1)}}catch(y){l.e(y)}finally{l.f()}var h=e.findHandleForPoint(n,a,s);if(void 0!==h)d("".concat(z[h.anchor].toLowerCase(),"-resize"));else{d("default");var v,f=Object(C.a)(n);try{for(f.s();!(v=f.n()).done;){var p=v.value;if(p instanceof q)if(e.isPointInClassifier(p,a,s)){p.setHovered(!0);break}}}catch(y){f.e(y)}finally{f.f()}}e.clear(),c.current.grid&&e.renderGrid(),e.renderDiagram(n)},onMouseDown:function(t){var e=be(u.current,r),i=te(t);!function(t,e,i){var a=n.find((function(t){return t.isSelected()})),r=t.findHandleForPoint(n,e,i);if(void 0!==r&&a instanceof q)return v.current=a.getRectangle(),h.current={x:e,y:i},void(f.current=r);null===a||void 0===a||a.setSelected(!1);var s,c=Object(C.a)(n);try{for(c.s();!(s=c.n()).done;){var o=s.value;if(o instanceof q&&t.isPointInClassifier(o,e,i))return o.setSelected(!0),v.current=o.getRectangle(),h.current={x:e,y:i},void(f.current=o)}}catch(u){c.e(u)}finally{c.f()}}(e,i.x,i.y),e.clear(),c.current.grid&&e.renderGrid(),e.renderDiagram(n)},onMouseUp:function(){v.current=null,h.current=null,f.current=null}})})};var Oe=function(t){var e=t.css,n=t.onChange;return Object(i.jsx)("div",{className:"CSSEditor",style:{gridArea:"css",position:"relative"},children:Object(i.jsx)(Ut,{language:"css",value:e,onChange:n})})},je=n(75),xe=n(37),ke=n(38);function Se(t){switch(t){case"de":return xe;default:return ke}}var we=function(t){var e=t.children,n=Object(a.useState)(navigator.language.substring(0,2)),r=Object(o.a)(n,2),s=r[0],c=r[1];return Object(i.jsx)(je.a,{messages:Se(s),locale:s,defaultLocale:"en",children:null===e||void 0===e?void 0:e(c)})},Te=Object.keys(z).filter((function(t){return t.match(/^\D+$/)})).map((function(t){return t.toLowerCase()})),Ee=Object.keys($).filter((function(t){return t.match(/^\D+$/)})).map((function(t){return t.toLowerCase()})),Ae=Object.keys(nt).filter((function(t){return t.match(/^\D+$/)})).map((function(t){return t.toLowerCase()})),Ce={children:["Title","Separator","Method","Stereotype"],attrs:{x:null,y:null,width:null,height:null,anchor:Te,shape:Ee}},Ne={attrs:{from:null,fromTip:Ae,to:null,toTip:Ae,linePattern:Object.keys(et).filter((function(t){return t.match(/^\D+$/)})).map((function(t){return t.toLowerCase()}))}},Re={Class:Ce,Classifier:Ce,Component:Ce,DataType:Ce,Enumeration:Ce,Interface:Ce,Note:Ce,Object:Ce,Package:Ce,Primitive:Ce},Le={Aggregation:Ne,Anchor:Ne,Association:Ne,Composition:Ne,Dependency:Ne,DirectedAssociation:Ne,Generalization:Ne,Implementation:Ne,Relationship:Ne},Ie=Object(Nt.a)(Object(Nt.a)({"!top":["Diagram"],"!attrs":{id:null,class:null},Diagram:{children:[].concat(Object(R.a)(Object.keys(Re)),Object(R.a)(Object.keys(Le)))}},Re),Le);var De=function(t){var e=t.xml,n=t.onChange;return Object(i.jsx)("div",{className:"XMLEditor",style:{gridArea:"xml",position:"relative"},children:Object(i.jsx)(Ut,{language:"xml",value:e,schema:Ie,onChange:n})})};n(66);var Pe=function(t){var e=t.onLocaleChange,n=Object(u.a)(),r=Object(a.useState)({grid:!1}),s=Object(o.a)(r,2),c=s[0],l=s[1],h=Object(a.useState)((function(){return new Q})),v=Object(o.a)(h,2),f=v[0],p=v[1],y=Object(a.useState)((function(){return new I})),b=Object(o.a)(y,2),m=b[0],O=b[1],j=Object(a.useState)("Untitled"),x=Object(o.a)(j,2),k=x[0],S=x[1],w=Object(a.useState)(""),T=Object(o.a)(w,2),E=T[0],A=T[1],C=Object(a.useState)(""),N=Object(o.a)(C,2),R=N[0],L=N[1];return M("".concat(k," - ").concat(n.formatMessage({id:"title",defaultMessage:"UML Editor"}))),Object(a.useEffect)((function(){var t=At.deserialize(d),e=H.parseFromString(g);p(t),O(e),A(d),L(g)}),[]),Object(i.jsxs)("div",{className:"App bg-secondary",children:[Object(i.jsx)(ye,{file:{title:k,model:f,style:m,xml:E,css:R},viewOptions:c,onFileChange:function(t){var e=At.deserialize(t.xml),n=H.parseFromString(t.css);S(t.title),L(t.css),A(t.xml),p(e),O(n)},onViewOptionsChange:l,onLocaleChange:e}),Object(i.jsx)(De,{xml:E,onChange:function(t){var e=At.deserialize(t);p(e),A(t)}}),Object(i.jsx)(Oe,{css:R,onChange:function(t){var e=H.parseFromString(t);O(e),L(t)}}),Object(i.jsx)(me,{viewOptions:c,diagram:f,style:m,onChange:function(t){At.updateElement(t);var e=At.serialize(f);A(e)}})]})},He=(n(67),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),i(t),a(t),r(t),s(t)}))});c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(we,{children:function(t){return Object(i.jsx)(Pe,{onLocaleChange:t})}})}),document.getElementById("root")),He()}},[[68,1,2]]]);
//# sourceMappingURL=main.6bdfccc8.chunk.js.map