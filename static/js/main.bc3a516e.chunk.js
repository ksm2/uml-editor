(this["webpackJsonpuml-editor"]=this["webpackJsonpuml-editor"]||[]).push([[0],{40:function(e){e.exports=JSON.parse('{"edit":[{"type":0,"value":"Bearbeiten"}],"edit.delete":[{"type":0,"value":"L\xf6schen"}],"edit.duplicate":[{"type":0,"value":"Duplizieren"}],"export":[{"type":0,"value":"Exportieren"}],"export.png":[{"type":0,"value":"Als PNG ..."}],"export.svg":[{"type":0,"value":"Als SVG ..."}],"file":[{"type":0,"value":"Datei"}],"file.new":[{"type":0,"value":"Neu ..."}],"file.new.message":[{"type":0,"value":"W\xe4hlen Sie einen neuen Titel f\xfcr das neue Dokument"}],"file.open":[{"type":0,"value":"\xd6ffnen ..."}],"file.rename":[{"type":0,"value":"\\""},{"type":1,"value":"title"},{"type":0,"value":"\\" umbenennen ..."}],"file.rename.message":[{"type":0,"value":"Neuer Dokument-Titel"}],"file.save":[{"type":0,"value":"Speichern ..."}],"github":[{"type":0,"value":"GitHub"}],"lang":[{"type":0,"value":"Sprache"}],"shortcut.alt":[{"type":0,"value":"Alt"}],"shortcut.arrowDown":[{"type":0,"value":"Unten"}],"shortcut.arrowLeft":[{"type":0,"value":"Links"}],"shortcut.arrowRight":[{"type":0,"value":"Rechts"}],"shortcut.arrowUp":[{"type":0,"value":"Oben"}],"shortcut.ctrl":[{"type":0,"value":"Strg"}],"shortcut.delete":[{"type":0,"value":"Entf"}],"shortcut.minus":[{"type":0,"value":"Minus"}],"shortcut.plus":[{"type":0,"value":"Plus"}],"shortcut.shift":[{"type":0,"value":"Umsch"}],"title":[{"type":0,"value":"UML-Editor"}],"untitled":[{"type":0,"value":"Unbenannt"}],"view":[{"type":0,"value":"Ansicht"}],"view.grid":[{"type":0,"value":"Raster umschalten"}],"view.moveDown":[{"type":0,"value":"Nach unten"}],"view.moveLeft":[{"type":0,"value":"Nach links"}],"view.moveRight":[{"type":0,"value":"Nach rechts"}],"view.moveUp":[{"type":0,"value":"Nach oben"}],"view.zoomIn":[{"type":0,"value":"Gr\xf6\xdfer"}],"view.zoomOut":[{"type":0,"value":"Kleiner"}],"view.zoomReset":[{"type":0,"value":"Zur\xfccksetzen"}]}')},41:function(e){e.exports=JSON.parse('{"edit":[{"type":0,"value":"Edit"}],"edit.delete":[{"type":0,"value":"Delete"}],"edit.duplicate":[{"type":0,"value":"Duplicate"}],"export":[{"type":0,"value":"Export"}],"export.png":[{"type":0,"value":"As PNG ..."}],"export.svg":[{"type":0,"value":"As SVG ..."}],"file":[{"type":0,"value":"File"}],"file.new":[{"type":0,"value":"New ..."}],"file.new.message":[{"type":0,"value":"Choose a title for the new document"}],"file.open":[{"type":0,"value":"Open ..."}],"file.rename":[{"type":0,"value":"Rename \\""},{"type":1,"value":"title"},{"type":0,"value":"\\" ..."}],"file.rename.message":[{"type":0,"value":"New document title"}],"file.save":[{"type":0,"value":"Save ..."}],"github":[{"type":0,"value":"GitHub"}],"lang":[{"type":0,"value":"Language"}],"shortcut.alt":[{"type":0,"value":"Alt"}],"shortcut.arrowDown":[{"type":0,"value":"Down"}],"shortcut.arrowLeft":[{"type":0,"value":"Left"}],"shortcut.arrowRight":[{"type":0,"value":"Right"}],"shortcut.arrowUp":[{"type":0,"value":"Up"}],"shortcut.ctrl":[{"type":0,"value":"Ctrl"}],"shortcut.delete":[{"type":0,"value":"Delete"}],"shortcut.minus":[{"type":0,"value":"Minus"}],"shortcut.plus":[{"type":0,"value":"Plus"}],"shortcut.shift":[{"type":0,"value":"Shift"}],"title":[{"type":0,"value":"UML Editor"}],"untitled":[{"type":0,"value":"Untitled"}],"view":[{"type":0,"value":"View"}],"view.grid":[{"type":0,"value":"Toggle Grid"}],"view.moveDown":[{"type":0,"value":"Move Down"}],"view.moveLeft":[{"type":0,"value":"Move Left"}],"view.moveRight":[{"type":0,"value":"Move Right"}],"view.moveUp":[{"type":0,"value":"Move Up"}],"view.zoomIn":[{"type":0,"value":"Zoom In"}],"view.zoomOut":[{"type":0,"value":"Zoom Out"}],"view.zoomReset":[{"type":0,"value":"Zoom Reset"}]}')},53:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var i,a=n(0),r=(n(48),n(4)),s=n.n(r),o=n(35),c=n.n(o),u=n(76);function l(e,t){var n=t.clientX,i=t.clientY,a=t.currentTarget.getBoundingClientRect(),r=n-a.x,s=i-a.y;return e.transformPoint(r,s)}function h(e){return e.replace(/[^a-zA-Z_-]+/g,"-")}function v(e,t){var n=document.createElement("a");n.download=e,n.href=t,n.click()}function f(){var e=window.localStorage;try{var t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&0!==(null===e||void 0===e?void 0:e.length)}}!function(e){e.GERMAN="de",e.ENGLISH="en"}(i||(i={}));var d,p,g=10,m=10,y=4.5,b='<Diagram>\n  <Interface id="i1" anchor="s" y="-60">\n    <Stereotype/>\n    <Title>Visitor</Title>\n  </Interface>\n\n  <Class id="c1" anchor="n" y="60" width="400">\n    <Stereotype/>\n    <Title>Concrete Visitor</Title>\n    <Separator/>\n    <Text>visitSomething(something: Something)</Text>\n  </Class>\n\n  <Implementation from="c1" to="i1"/>\n</Diagram>\n',j="Interface {\n  Title {\n    font-style: italic;\n  }\n}\n\nClass {\n  Title {\n    font-weight: bold;\n  }\n}\n",O=[i.GERMAN,i.ENGLISH],x=n(7),w=n(17),k=n(2),S=n(3),E=function(){function e(){Object(k.a)(this,e)}return Object(S.a)(e,[{key:"saveToString",value:function(e){var t="title: ".concat(e.title),n=e.xml,i=e.css;return this.joinSections(t,n,i)}},{key:"loadFromString",value:function(e){var t,n=this.splitSections(e,3),i=Object(w.a)(n,3),a=i[0],r=i[1],s=i[2];return{title:null!==(t=this.parseHeader(a).title)&&void 0!==t?t:"Untitled",xml:r,css:s}}},{key:"joinSections",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return e.trim()})).join("\n---\n")+"\n"}},{key:"splitSections",value:function(e,t){var n=e.split("\n---\n");if(n.length!==t)throw new Error("Expected ".concat(t," sections"));return n}},{key:"parseHeader",value:function(e){var t,n={},i=Object(x.a)(e.split(/\r\n|[\r\n]/));try{for(i.s();!(t=i.n()).done;){var a=t.value.split(/:\s*/,2),r=Object(w.a)(a,2),s=r[0],o=r[1];n[s]=o}}catch(c){i.e(c)}finally{i.f()}return n}}]),e}(),T=n(43),A=n(20),C=n(6),N=n(5),R=n(12);(p=d||(d={}))[p.N=0]="N",p[p.NNE=1]="NNE",p[p.NE=2]="NE",p[p.ENE=3]="ENE",p[p.E=4]="E",p[p.ESE=5]="ESE",p[p.SE=6]="SE",p[p.SSE=7]="SSE",p[p.S=8]="S",p[p.SSW=9]="SSW",p[p.SW=10]="SW",p[p.WSW=11]="WSW",p[p.W=12]="W",p[p.WNW=13]="WNW",p[p.NW=14]="NW",p[p.NNW=15]="NNW",p[p.CENTER=16]="CENTER";var D=d;function L(e,t){return(t+e)%16<5}function I(e){if(e===D.CENTER)return.5;if(L(6,e))return 0;if(L(14,e))return 1;switch(e){case D.NNW:case D.SSW:return 1/4;case D.N:case D.S:return.5;case D.NNE:case D.SSE:return 3/4}throw new Error}function M(e){if(e===D.CENTER)return.5;if(L(2,e))return 0;if(L(10,e))return 1;switch(e){case D.ENE:case D.WNW:return 1/4;case D.E:case D.W:return.5;case D.ESE:case D.WSW:return 3/4}throw new Error}var P,H=n(19),W=n.n(H);P=Symbol.iterator;var z,F=function(){function e(){Object(k.a)(this,e),this.children=new Set,this.hovered=!1,this.selected=!1}return Object(S.a)(e,[{key:"getChildren",value:function(){return Object(R.a)(this.children)}},{key:"addChild",value:function(e){return this.children.add(e),this}},{key:"deleteChild",value:function(e){return this.children.delete(e)}},{key:P,value:W.a.mark((function e(){var t,n,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(x.a)(Object(R.a)(this.children).reverse()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=8;break}return i=n.value,e.delegateYield(i,"t0",6);case 6:e.next=3;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),t.e(e.t1);case 13:return e.prev=13,t.f(),e.finish(13);case 16:return e.next=18,this;case 18:case"end":return e.stop()}}),e,this,[[1,10,13,16]])}))},{key:"isHovered",value:function(){return this.hovered}},{key:"setHovered",value:function(e){this.hovered=e}},{key:"isSelected",value:function(){return this.selected}},{key:"setSelected",value:function(e){this.selected=e}}]),e}();!function(e){e[e.RECTANGLE=0]="RECTANGLE",e[e.ELLIPSE=1]="ELLIPSE",e[e.NOTE=2]="NOTE",e[e.FOLDER=3]="FOLDER",e[e.BOX=4]="BOX",e[e.FILE=5]="FILE",e[e.COMPONENT=6]="COMPONENT",e[e.DIAMOND=7]="DIAMOND",e[e.TRAPEZE=8]="TRAPEZE",e[e.HEXAGONAL=9]="HEXAGONAL"}(z||(z={}));var G,U=z,Y=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(e,i,a,r,s){var o;return Object(k.a)(this,n),(o=t.call(this)).anchor=void 0,o.x=void 0,o.y=void 0,o.width=void 0,o.height=void 0,o.shape=U.RECTANGLE,o.anchor=e,o.x=i,o.y=a,o.width=r,o.height=s,o}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Classifier"}},{key:"getRectangle",value:function(){return{x:this.getLeft(),y:this.getTop(),width:this.width,height:this.height}}},{key:"getWidth",value:function(){return this.width}},{key:"setWidth",value:function(e){this.width=e}},{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getAnchorX",value:function(e){return this.getLeft()+I(e)*this.width}},{key:"getAnchorY",value:function(e){return this.getTop()+M(e)*this.height}},{key:"getHeight",value:function(){return this.height}},{key:"setHeight",value:function(e){this.height=e}},{key:"getLeft",value:function(){return this.x-this.width*I(this.anchor)}},{key:"setLeft",value:function(e){this.x=e+this.width*I(this.anchor)}},{key:"getCenterX",value:function(){return this.getLeft()+this.width/2}},{key:"getRight",value:function(){return this.getLeft()+this.width}},{key:"getTop",value:function(){return this.y-this.height*M(this.anchor)}},{key:"setTop",value:function(e){this.y=e+this.height*M(this.anchor)}},{key:"getCenterY",value:function(){return this.getTop()+this.height/2}},{key:"getBottom",value:function(){return this.getTop()+this.height}},{key:"render",value:function(e){e.renderClassifier(this)}},{key:"clone",value:function(){var e=new(0,Object.getPrototypeOf(this).constructor)(this.anchor,this.x+20,this.y+20,this.width,this.height);return e.shape=this.shape,e}}]),n}(F),B=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(e){e.renderDiagram(this)}},{key:"getTagName",value:function(){return"Diagram"}},{key:"clone",value:function(){return new n}},{key:"find",value:function(e){return this.findElement(this,e)}},{key:"findElement",value:function(e,t){if(t(e))return e;var n,i=Object(x.a)(e.getChildren());try{for(i.s();!(n=i.n()).done;){var a=n.value,r=this.findElement(a,t);if(void 0!==r)return r}}catch(s){i.e(s)}finally{i.f()}}},{key:"getWidth",value:function(){return this.getRight()-this.getLeft()}},{key:"getHeight",value:function(){return this.getBottom()-this.getTop()}},{key:"getTop",value:function(){return this.reduceClassifiers((function(e,t){var n=t.getTop();return e>n?n:e}),1/0)}},{key:"getBottom",value:function(){return this.reduceClassifiers((function(e,t){var n=t.getBottom();return e<n?n:e}),-1/0)}},{key:"getLeft",value:function(){return this.reduceClassifiers((function(e,t){var n=t.getLeft();return e>n?n:e}),1/0)}},{key:"getRight",value:function(){return this.reduceClassifiers((function(e,t){var n=t.getRight();return e<n?n:e}),-1/0)}},{key:"reduceClassifiers",value:function(e,t){var n,i=t,a=Object(x.a)(this.getChildren());try{for(a.s();!(n=a.n()).done;){var r=n.value;r instanceof Y&&(i=e(i,r))}}catch(s){a.e(s)}finally{a.f()}return i===t?0:i}}]),n}(F);!function(e){e[e.SOLID=0]="SOLID",e[e.DOTS=1]="DOTS",e[e.SMALL_DASHES=2]="SMALL_DASHES",e[e.LARGE_DASHES=3]="LARGE_DASHES",e[e.TIGHT_DASHES=4]="TIGHT_DASHES"}(G||(G={}));var X,_=G;!function(e){e[e.NONE=0]="NONE",e[e.ARROW=1]="ARROW",e[e.TRIANGLE=2]="TRIANGLE",e[e.FILLED_TRIANGLE=3]="FILLED_TRIANGLE",e[e.DIAMOND=4]="DIAMOND",e[e.FILLED_DIAMOND=5]="FILLED_DIAMOND",e[e.CIRCLE=6]="CIRCLE",e[e.FILLED_CIRCLE=7]="FILLED_CIRCLE"}(X||(X={}));var V=X,Z=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(e,i,a,r){var s;return Object(k.a)(this,n),(s=t.call(this)).from=void 0,s.fromAnchor=void 0,s.fromTip=V.NONE,s.to=void 0,s.toAnchor=void 0,s.toTip=V.NONE,s.linePattern=_.SOLID,s.from=e,s.fromAnchor=i,s.to=a,s.toAnchor=r,s}return Object(S.a)(n,[{key:"render",value:function(e){e.renderRelationship(this)}},{key:"getTagName",value:function(){return"Relationship"}},{key:"clone",value:function(){return new(0,Object.getPrototypeOf(this).constructor)(this.from,this.fromAnchor,this.to,this.toAnchor)}}]),n}(F),K=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(e){e.renderSeparator(this)}},{key:"getTagName",value:function(){return"Separator"}},{key:"clone",value:function(){return new n}}]),n}(F),J=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(e){e.renderStereotype(this)}},{key:"getTagName",value:function(){return"Stereotype"}},{key:"clone",value:function(){return new n}}]),n}(F),q=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(e){var i;return Object(k.a)(this,n),(i=t.call(this)).text=void 0,i.text=e,i}return Object(S.a)(n,[{key:"render",value:function(e){e.renderText(this)}},{key:"getTagName",value:function(){return"Text"}},{key:"clone",value:function(){return new(0,Object.getPrototypeOf(this).constructor)(this.text)}}]),n}(F),$=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(e){e.renderTitle(this)}},{key:"getTagName",value:function(){return"Title"}}]),n}(q),Q=function(){function e(){Object(k.a)(this,e),this.parser=void 0,this.serializer=void 0,this.elementMap=new Map,this.parser=new DOMParser,this.serializer=new XMLSerializer}return Object(S.a)(e,[{key:"deserialize",value:function(e){this.elementMap.clear();var t=this.parser.parseFromString(e,"text/xml"),n=this.parseElement(t.documentElement);return n instanceof B?n:new B}},{key:"serialize",value:function(e){if(this.hasElement(e)){var t=this.getElement(e);return this.serializer.serializeToString(t)}return""}},{key:"updateElement",value:function(e){if(this.hasElement(e)){var t=this.getElement(e);this.setElement(t,e)}}},{key:"parseElement",value:function(e){if(this.elementMap.has(e))return this.elementMap.get(e);var t=this.parseElementSwitch(e);return this.elementMap.set(e,t),t}},{key:"setElement",value:function(e,t){t instanceof B?this.setDiagram(e,t):t instanceof Y?this.setClassifier(e,t):t instanceof q&&this.setText(e,t)}},{key:"parseElementSwitch",value:function(e){switch(e.tagName){case"Diagram":return this.parseDiagram(e);case"Classifier":return this.parseClassifier(Y,e);case"Relationship":return this.parseRelationship(Z,e);case"Title":return this.parseTitle(e);case"Text":return this.parseText(e);case"Separator":return new K;case"Stereotype":return new J}throw new Error("Unknown tag: ".concat(e.tagName))}},{key:"parseDiagram",value:function(e){var t=new B;return this.parseChildren(e,t),t}},{key:"setDiagram",value:function(e,t){this.updateChildren(e,t)}},{key:"parseClassifier",value:function(e,t){var n=new e(this.parseAnchorAttribute(t,"anchor"),this.parseIntAttribute(t,"x",0),this.parseIntAttribute(t,"y",0),this.parseIntAttribute(t,"width",200),this.parseIntAttribute(t,"height",120));return n.shape=this.parseEnumAttribute(U,t,"shape",n.shape),this.parseChildren(t,n),n}},{key:"setClassifier",value:function(e,t){this.setAnchorAttribute(e,"anchor",t.anchor),this.setIntAttribute(e,"x",0,t.getX()),this.setIntAttribute(e,"y",0,t.getY()),this.setIntAttribute(e,"width",200,t.getWidth()),this.setIntAttribute(e,"height",120,t.getHeight()),this.setEnumAttribute(U,e,"shape",t.shape),this.updateChildren(e,t)}},{key:"parseRelationship",value:function(e,t){var n=new e(this.parseClassifierAttribute(t,"from"),this.parseAnchorAttribute(t,"fromAnchor"),this.parseClassifierAttribute(t,"to"),this.parseAnchorAttribute(t,"toAnchor"));return n.fromTip=this.parseTipAttribute(t,"fromTip",n.fromTip),n.toTip=this.parseTipAttribute(t,"toTip",n.toTip),n.linePattern=this.parseLinePatternAttribute(t,"linePattern",n.linePattern),n}},{key:"parseTitle",value:function(e){var t,n=null!==(t=e.textContent)&&void 0!==t?t:"";return new $(n)}},{key:"parseText",value:function(e){var t,n=null!==(t=e.textContent)&&void 0!==t?t:"";return new q(n)}},{key:"setText",value:function(e,t){e.textContent=t.text}},{key:"parseChildren",value:function(e,t){var n,i=Object(x.a)(e.children);try{for(i.s();!(n=i.n()).done;){var a=n.value;try{t.addChild(this.parseElement(a))}catch(r){console.error(r)}}}catch(r){i.e(r)}finally{i.f()}}},{key:"updateChildren",value:function(e,t){var n,i=new Set,a=Object(x.a)(t.getChildren());try{for(a.s();!(n=a.n()).done;){var r=n.value,s=this.getOrCreateElement(e,r);this.setElement(s,r),i.add(s)}}catch(l){a.e(l)}finally{a.f()}var o,c=Object(x.a)(e.children);try{for(c.s();!(o=c.n()).done;){var u=o.value;i.has(u)||(u.remove(),this.elementMap.delete(u))}}catch(l){c.e(l)}finally{c.f()}this.cleanupWhiteSpace(e)}},{key:"getOrCreateElement",value:function(e,t){return this.hasElement(t)?this.getElement(t):this.createElement(e,t)}},{key:"parseClassifierAttribute",value:function(e,t){if(e.hasAttribute(t)){var n=e.getAttribute(t),i=e.ownerDocument.getElementById(n);if(null!==i){var a=this.parseElement(i);if(a instanceof Y)return a}}throw new Error("Invalid classifier: <".concat(e.tagName," ").concat(t,'="').concat(e.getAttribute(t),'" />'))}},{key:"parseAnchorAttribute",value:function(e,t){return this.parseEnumAttribute(D,e,t,D.CENTER)}},{key:"setAnchorAttribute",value:function(e,t,n){this.setEnumAttribute(D,e,t,n,D.CENTER)}},{key:"parseTipAttribute",value:function(e,t,n){return this.parseEnumAttribute(V,e,t,n)}},{key:"parseLinePatternAttribute",value:function(e,t,n){return this.parseEnumAttribute(_,e,t,n)}},{key:"parseEnumAttribute",value:function(e,t,n,i){if(t.hasAttribute(n)){var a=t.getAttribute(n),r=Reflect.get(e,a.toUpperCase());if(void 0!==r)return r}return i}},{key:"setEnumAttribute",value:function(e,t,n,i,a){if(i===a)t.removeAttribute(n);else{var r=e[i].toLowerCase();t.setAttribute(n,r)}}},{key:"parseIntAttribute",value:function(e,t,n){if(e.hasAttribute(t)){var i=parseInt(e.getAttribute(t),10);if(!Number.isNaN(i))return i}return n}},{key:"setIntAttribute",value:function(e,t,n,i){i!==n?e.setAttribute(t,String(i)):e.removeAttribute(t)}},{key:"hasElement",value:function(e){var t,n=Object(x.a)(this.elementMap.values());try{for(n.s();!(t=n.n()).done;){if(t.value===e)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"getElement",value:function(e){var t,n=Object(x.a)(this.elementMap);try{for(n.s();!(t=n.n()).done;){var i=Object(w.a)(t.value,2),a=i[0];if(i[1]===e)return a}}catch(r){n.e(r)}finally{n.f()}}},{key:"createElement",value:function(e,t){var n=e.ownerDocument.createElement(t.getTagName());if(t instanceof Y){var i=this.generateId(e.ownerDocument,t);n.setAttribute("id",i)}return this.elementMap.set(n,t),e.appendChild(n),n}},{key:"generateId",value:function(e,t){var n=t.getTagName().toLowerCase();"interface"===n?n="i":"class"===n&&(n="c");for(var i=1;null!==e.getElementById(n+i);)i+=1;return n+i}},{key:"cleanupWhiteSpace",value:function(e){for(var t=this.getLevel(0,e),n=Object(R.a)(e.children);e.childNodes.length>0;)e.removeChild(e.childNodes.item(0));var i,a=!0,r=Object(x.a)(n);try{for(r.s();!(i=r.n()).done;){var s=i.value,o="";0!==t||a||(o="\n"),this.addText(e,o+this.getIndent(t+1)),e.appendChild(s),a=!1}}catch(c){r.e(c)}finally{r.f()}this.addText(e,this.getIndent(t))}},{key:"getIndent",value:function(e){return"\n"+"  ".repeat(e)}},{key:"getLevel",value:function(e,t){return null===t.parentElement?e:this.getLevel(e+1,t.parentElement)}},{key:"addText",value:function(e,t){e.appendChild(e.ownerDocument.createTextNode(t))}}]),e}(),ee=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).toTip=V.DIAMOND,e}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Aggregation"}}]),n}(Z),te=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).linePattern=_.DOTS,e}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Anchor"}}]),n}(Z),ne=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Association"}}]),n}(Z),ie=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Class"}}]),n}(Y),ae=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).shape=U.COMPONENT,e}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Component"}}]),n}(Y),re=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).toTip=V.FILLED_DIAMOND,e}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Composition"}}]),n}(Z),se=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"getTagName",value:function(){return"DataType"}}]),n}(Y),oe=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).toTip=V.ARROW,e.linePattern=_.TIGHT_DASHES,e}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Dependency"}}]),n}(Z),ce=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).toTip=V.ARROW,e}return Object(S.a)(n,[{key:"getTagName",value:function(){return"DirectedAssociation"}}]),n}(Z),ue=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Enumeration"}}]),n}(Y),le=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).toTip=V.TRIANGLE,e}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Generalization"}}]),n}(Z),he=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).toTip=V.TRIANGLE,e.linePattern=_.TIGHT_DASHES,e}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Implementation"}}]),n}(Z),ve=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Interface"}}]),n}(Y),fe=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).shape=U.NOTE,e}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Note"}}]),n}(Y),de=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).shape=U.FOLDER,e}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Package"}}]),n}(Y),pe=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"getTagName",value:function(){return"Primitive"}}]),n}(Y),ge=new(function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"parseElementSwitch",value:function(e){switch(e.tagName){case"Aggregation":return this.parseRelationship(ee,e);case"Anchor":return this.parseRelationship(te,e);case"Association":return this.parseRelationship(ne,e);case"Class":return this.parseClassifier(ie,e);case"Component":return this.parseClassifier(ae,e);case"Composition":return this.parseRelationship(re,e);case"DataType":return this.parseClassifier(se,e);case"Dependency":return this.parseRelationship(oe,e);case"DirectedAssociation":return this.parseRelationship(ce,e);case"Enumeration":return this.parseClassifier(ue,e);case"Generalization":return this.parseRelationship(le,e);case"Implementation":return this.parseRelationship(he,e);case"Interface":return this.parseClassifier(ve,e);case"Note":return this.parseClassifier(fe,e);case"Package":return this.parseClassifier(de,e);case"Primitive":return this.parseClassifier(pe,e);default:return Object(T.a)(Object(A.a)(n.prototype),"parseElementSwitch",this).call(this,e)}}}]),n}(Q)),me=new E;function ye(e){return e<26?e+65:e<52?e-26+97:e<62?e-52+48:62===e?43:47}function be(e){return e>=97?e-97+26:e>=65?e-65:61===e?0:e>=48?e-48+52:43===e?62:63}function je(e,t,n){return[e>>>2,(3&e)<<4|t>>>4,(15&t)<<2|n>>>6,63&n]}function Oe(e){return String.fromCharCode.apply(String,Object(R.a)(e.map(ye)))}var xe=n(32),we=new TextEncoder,ke=new TextDecoder;function Se(e){var t,n=me.saveToString(e),i=(t=n,we.encode(t));return function(e){var t,n=[];for(t=0;t<e.length-2;t+=3)n.push.apply(n,Object(R.a)(je(e[t],e[t+1],e[t+2])));return t===e.length-2?(n.push.apply(n,Object(R.a)(je(e[t],e[t+1],0))),Oe(n).slice(0,-1)+"="):t===e.length-1?(n.push.apply(n,Object(R.a)(je(e[t],0,0))),Oe(n).slice(0,-2)+"=="):Oe(n)}(xe.a(i))}function Ee(e){var t=function(e){if(e.length%4!==0)throw new Error("Base64 has incorrect length.");for(var t,n,i,a,r="=="===e.slice(-2),s=!r&&"="===e.slice(-1),o=new Array(e.length).fill(0).map((function(t,n){return e.charCodeAt(n)})).map(be),c=[],u=0;u<o.length-3;u+=4)c.push.apply(c,Object(R.a)((t=o[u],n=o[u+1],i=o[u+2],a=o[u+3],[t<<2|n>>>4,(15&n)<<4|i>>>2,(3&i)<<6|a])));return r?new Uint8Array(c.slice(0,-2)):s?new Uint8Array(c.slice(0,-1)):new Uint8Array(c)}(e),n=function(e){return ke.decode(e)}(xe.b(t));return me.loadFromString(n)}var Te=function(e){Object(r.useEffect)((function(){document.title=e}),[e])};var Ae=function(e){return Object(r.useRef)("".concat(e,"-").concat(Math.random().toString(36).substring(2))).current};var Ce=function(e,t){var n=Object(r.useRef)(t);Object(r.useEffect)((function(){function t(t){void 0!==e&&function(e,t){var n,i=!0,a=e.split("-"),r=Object(x.a)(a);try{for(r.s();!(n=r.n()).done;){var s=n.value;i="Ctrl"===s?i&&t.ctrlKey:"Shift"===s?i&&t.shiftKey:"Alt"===s?i&&t.altKey:"Plus"===s?i&&("="===t.key||"+"===t.key):"Minus"===s?i&&"-"===t.key:i&&t.key.toLowerCase()===s.toLowerCase()}}catch(o){r.e(o)}finally{r.f()}return i}(e,t)&&(t.preventDefault(),n.current())}return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e]),Object(r.useEffect)((function(){n.current=t}))},Ne=n(37),Re=n(33),De=n(8),Le=function(){function e(t,n,i){Object(k.a)(this,e),this.red=void 0,this.green=void 0,this.blue=void 0,this.red=e.sanitizeComponent(t),this.green=e.sanitizeComponent(n),this.blue=e.sanitizeComponent(i)}return Object(S.a)(e,[{key:"toHexString",value:function(){return"#".concat(e.intToHex(this.red)).concat(e.intToHex(this.green)).concat(e.intToHex(this.blue))}},{key:"mix",value:function(t,n){var i=e.clamp(0,1,n),a=1-i;return new e(a*this.red+i*t.red,a*this.green+i*t.green,a*this.blue+i*t.blue)}}],[{key:"fromHexString",value:function(t){return new e(parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16))}},{key:"clamp",value:function(e,t,n){return n<e?e:n>t?t:n}},{key:"sanitizeComponent",value:function(t){var n=e.clamp(0,255,t);return Math.round(n)}},{key:"intToHex",value:function(e){return e.toString(16).padStart(2,"0")}}]),e}();Le.BLUE=Le.fromHexString("#0d6efd"),Le.INDIGO=Le.fromHexString("#6610f2"),Le.PURPLE=Le.fromHexString("#6f42c1"),Le.PINK=Le.fromHexString("#d63384"),Le.RED=Le.fromHexString("#dc3545"),Le.ORANGE=Le.fromHexString("#fd7e14"),Le.YELLOW=Le.fromHexString("#ffc107"),Le.GREEN=Le.fromHexString("#198754"),Le.TEAL=Le.fromHexString("#20c997"),Le.CYAN=Le.fromHexString("#0dcaf0"),Le.WHITE=Le.fromHexString("#ffffff"),Le.GRAY=Le.fromHexString("#6c757d"),Le.GRAY_DARK=Le.fromHexString("#343a40"),Le.PRIMARY=Le.fromHexString("#0d6efd"),Le.SECONDARY=Le.fromHexString("#6c757d"),Le.SUCCESS=Le.fromHexString("#198754"),Le.INFO=Le.CYAN,Le.WARNING=Le.YELLOW,Le.DANGER=Le.RED,Le.LIGHT=Le.fromHexString("#f8f9fa"),Le.DARK=Le.fromHexString("#212529");var Ie,Me=Le,Pe=function(){function e(t){Object(k.a)(this,e),this.tokenizer=void 0,this.tokens=[],this.index=0,this.tokenizer=t}return Object(S.a)(e,[{key:"parseFromString",value:function(e){return this.index=0,this.tokens=this.tokenizer.tokenize(e),this.parse()}},{key:"consume",value:function(e){var t=this.tokens[this.index];if(t.kind===e)return this.index+=1,t;throw new Error("Expected ".concat(e,", but was ").concat(t.kind))}},{key:"parseOneOf",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,a=t;i<a.length;i++){var r=a[i],s=this.parseOptional(r);if(void 0!==s)return s}throw new Error("None of the one ofs matched")}},{key:"parseSet",value:function(e){for(var t=new Set;;){var n=this.index;try{t.add(e.call(this))}catch(i){return this.index=n,t}if(this.index<=n)throw new Error("Did not consume any tokens")}}},{key:"parseOptional",value:function(e){var t,n=this.index;try{t=e.call(this)}catch(i){return void(this.index=n)}if(this.index<=n)throw new Error("Did not consume any tokens");return t}}]),e}(),He=function(){function e(){Object(k.a)(this,e),this.subject="",this.index=0}return Object(S.a)(e,[{key:"tokenize",value:function(e){this.subject=e,this.index=0;for(var t=[];this.index<this.subject.length;){var n=this.index,i=this.next(),a=this.index;if(a<=n)throw new Error("Did not consume any characters");if(null!==i){var r=this.subject.slice(n,a);t.push({kind:i,value:r})}}return t}},{key:"matches",value:function(e){var t=this.subject.slice(this.index).match(e);return null!==t&&(this.index+=t[0].length,!0)}},{key:"startsWith",value:function(e){return!!this.subject.startsWith(e,this.index)&&(this.index+=e.length,!0)}}]),e}();!function(e){e[e.LBRACE=0]="LBRACE",e[e.RBRACE=1]="RBRACE",e[e.COLON=2]="COLON",e[e.SEMI=3]="SEMI",e[e.DOT=4]="DOT",e[e.HASH=5]="HASH",e[e.COLOR=6]="COLOR",e[e.NUMBER=7]="NUMBER",e[e.IDENTIFIER=8]="IDENTIFIER",e[e.ERROR=9]="ERROR"}(Ie||(Ie={}));var We,ze=Ie,Fe=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"next",value:function(){return this.matches(/^\s+/)||this.matches(/^\/\/[^\r\n]*/)||this.matches(/^\/\*.*?\*\//)?null:this.matches(/^#[0-9a-fA-F]{6}|^#[0-9a-fA-F]{3}/)?ze.COLOR:this.matches(/^\d+(\.\d*)?|^\.\d+/)?ze.NUMBER:this.startsWith("{")?ze.LBRACE:this.startsWith("}")?ze.RBRACE:this.startsWith(":")?ze.COLON:this.startsWith(";")?ze.SEMI:this.startsWith(".")?ze.DOT:this.startsWith("#")?ze.HASH:this.matches(/^[a-zA-Z]+(-[a-zA-Z]+)*/)?ze.IDENTIFIER:(this.matches(/^./),ze.ERROR)}}]),n}(He),Ge=function e(t,n){Object(k.a)(this,e),this.key=void 0,this.value=void 0,this.key=t,this.value=n},Ue=n(36);We=Symbol.iterator;var Ye=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;Object(k.a)(this,e),this.map=void 0,this.map=new Map(Object(R.a)(t).map((function(e){return[e.key,e.value]})))}return Object(S.a)(e,[{key:We,value:function(){return this.map.entries()}},{key:"addAll",value:function(e){var t,n=Object(x.a)(e);try{for(n.s();!(t=n.n()).done;){var i=Object(w.a)(t.value,2),a=i[0],r=i[1];this.map.set(a,r)}}catch(s){n.e(s)}finally{n.f()}return this}},{key:"getString",value:function(e,t){var n=this.map.get(e);return"string"===typeof n?n:t}},{key:"getColor",value:function(e,t){var n=this.map.get(e);return n instanceof Me?n:t}},{key:"getFloat",value:function(e,t){var n=this.map.get(e);return"number"===typeof n?n:t}}]),e}(),Be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;Object(k.a)(this,e),this.rules=void 0,this.rules=t}return Object(S.a)(e,[{key:"getProperties",value:function(e){var t,n=new Ye,i=Object(Ue.a)(e),a=i[0],r=i.slice(1),s=r.length>0,o=Object(x.a)(this.rules);try{for(o.s();!(t=o.n()).done;){var c=t.value;if(c.selector.tag===a){var u=new Ye(c.properties);s&&(u.addAll(this.getProperties(r)),u.addAll(c.getProperties(r))),n.addAll(u)}}}catch(l){o.e(l)}finally{o.f()}return n}}]),e}(),Xe=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(e,i,a){var r;return Object(k.a)(this,n),(r=t.call(this,a)).selector=void 0,r.properties=void 0,r.selector=e,r.properties=i,r}return n}(Be),_e=function e(t,n,i){Object(k.a)(this,e),this.tag=void 0,this.classes=void 0,this.id=void 0,this.tag=t,this.classes=n,this.id=i},Ve=new(function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){return Object(k.a)(this,n),t.call(this,new Fe)}return Object(S.a)(n,[{key:"parse",value:function(){return new Be(this.parseRuleSet())}},{key:"parseRuleSet",value:function(){return this.parseSet(this.parseRule)}},{key:"parseRule",value:function(){var e=this.parseSelector();this.consume(ze.LBRACE);var t=this.parsePropertySet(),n=this.parseRuleSet();return this.consume(ze.RBRACE),new Xe(e,t,n)}},{key:"parseSelector",value:function(){var e=this.consume(ze.IDENTIFIER),t=this.parseClassSet(),n=this.parseOptionalId();return new _e(e.value,t,n)}},{key:"parsePropertySet",value:function(){return this.parseSet(this.parseProperty)}},{key:"parseProperty",value:function(){var e=this.parseIdentifier();this.consume(ze.COLON);var t=this.parseOneOf(this.parseColor,this.parseNumber,this.parseIdentifierValue);return this.consume(ze.SEMI),new Ge(e,t)}},{key:"parseClassSet",value:function(){return this.parseSet(this.parseClass)}},{key:"parseClass",value:function(){return this.consume(ze.DOT),this.consume(ze.IDENTIFIER).value}},{key:"parseOptionalId",value:function(){return this.parseOptional(this.parseId)}},{key:"parseId",value:function(){return this.consume(ze.HASH),this.consume(ze.IDENTIFIER).value}},{key:"parseColor",value:function(){var e=this.consume(ze.COLOR);return Me.fromHexString(e.value)}},{key:"parseNumber",value:function(){var e=this.consume(ze.NUMBER);return parseFloat(e.value)}},{key:"parseIdentifierValue",value:function(){var e=this.parseIdentifier();switch(e){case"blue":return Me.BLUE;case"indigo":return Me.INDIGO;case"purple":return Me.PURPLE;case"pink":return Me.PINK;case"red":return Me.RED;case"orange":return Me.ORANGE;case"yellow":return Me.YELLOW;case"green":return Me.GREEN;case"teal":return Me.TEAL;case"cyan":return Me.CYAN;case"white":return Me.WHITE;case"gray":return Me.GRAY;case"gray-dark":return Me.GRAY_DARK;case"primary":return Me.PRIMARY;case"secondary":return Me.SECONDARY;case"success":return Me.SUCCESS;case"info":return Me.INFO;case"warning":return Me.WARNING;case"danger":return Me.DANGER;case"light":return Me.LIGHT;case"dark":return Me.DARK;default:return e}}},{key:"parseIdentifier",value:function(){return this.consume(ze.IDENTIFIER).value}}]),n}(Pe));function Ze(e){var t=e.slice(0,2).toLowerCase();return O.includes(t)?t:i.ENGLISH}function Ke(){if(f()){var e=localStorage.getItem("locale");if(null!==e)return e}return"string"===typeof navigator.language?navigator.language:i.ENGLISH}function Je(e){return f()&&localStorage.setItem("view",JSON.stringify({grid:e.grid,positionX:e.positionX,positionY:e.positionY,zoom:e.zoom})),e}function qe(){return Re.b.apply(void 0,arguments)}var $e=Object(Ne.a)([function(e){e.on("@init",(function(){return{title:"",xml:"",css:"",model:new B,style:new Be}})),e.on("file/load",(function(t,n){var i=n.xml,a=n.css,r=n.title;e.dispatch("file/xml",i),e.dispatch("file/css",a),e.dispatch("file/title",r)})),e.on("file/add",(function(t,n){t.model.addChild(n),e.dispatch("file/model",t.model)})),e.on("file/delete",(function(t,n){t.model.deleteChild(n),e.dispatch("file/model",t.model)})),e.on("file/xml",(function(e,t){var n=ge.deserialize(t);return Object(De.a)(Object(De.a)({},e),{},{xml:t,model:n})})),e.on("file/css",(function(e,t){var n=Ve.parseFromString(t);return Object(De.a)(Object(De.a)({},e),{},{css:t,style:n})})),e.on("file/title",(function(e,t){return Object(De.a)(Object(De.a)({},e),{},{title:t})})),e.on("file/model",(function(e,t){ge.updateElement(t);var n=ge.serialize(e.model);return Object(De.a)(Object(De.a)({},e),{},{xml:n})}))},function(e){e.on("@init",(function(){return{locale:Ze(Ke())}})),e.on("locale/change",(function(e,t){return function(e){f()&&localStorage.setItem("locale",e)}(t),Object(De.a)(Object(De.a)({},e),{},{locale:t})}))},function(e){var t=[.25,.5,.75,1,1.25,1.5,2,3];e.on("@init",(function(){var e=function(){if(f()){var e=localStorage.getItem("view");if(null!==e)return JSON.parse(e)}return{}}(),t=e.grid,n=void 0!==t&&t,i=e.positionX,a=void 0===i?0:i,r=e.positionY,s=void 0===r?0:r,o=e.zoom;return{grid:n,positionX:a,positionY:s,zoom:void 0===o?1:o}})),e.on("view/moveLeft",(function(t){e.dispatch("view/positionX",t.positionX+50)})),e.on("view/moveRight",(function(t){e.dispatch("view/positionX",t.positionX-50)})),e.on("view/moveUp",(function(t){e.dispatch("view/positionY",t.positionY+50)})),e.on("view/moveDown",(function(t){e.dispatch("view/positionY",t.positionY-50)})),e.on("view/zoomIn",(function(n){var i=n.zoom,a=t.indexOf(i);a+1<t.length&&e.dispatch("view/zoom",t[a+1])})),e.on("view/zoomOut",(function(n){var i=n.zoom,a=t.indexOf(i);a>0&&e.dispatch("view/zoom",t[a-1])})),e.on("view/zoomReset",(function(){e.dispatch("view/zoom",1)})),e.on("view/grid",(function(e,t){return Je(Object(De.a)(Object(De.a)({},e),{},{grid:t}))})),e.on("view/positionX",(function(e,t){return Je(Object(De.a)(Object(De.a)({},e),{},{positionX:t}))})),e.on("view/positionY",(function(e,t){return Je(Object(De.a)(Object(De.a)({},e),{},{positionY:t}))})),e.on("view/zoom",(function(e,t){return Je(Object(De.a)(Object(De.a)({},e),{},{zoom:t}))}))}]);function Qe(e){var t=e.children;return s.a.createElement(Re.a.Provider,{value:$e},t)}n(53);var et=n(77);var tt=function(e){var t=e.children;return Object(a.jsx)("div",{className:"container-fluid",children:t})};var nt=function(){return Object(a.jsx)("li",{children:Object(a.jsx)("hr",{className:"dropdown-divider"})})},it=n(14),at=n.n(it);var rt=function(e){var t=e.shortcut,n=Object(u.a)(),i=new Map([["Alt",n.formatMessage({id:"shortcut.alt",defaultMessage:"Alt"})],["ArrowLeft",n.formatMessage({id:"shortcut.arrowLeft",defaultMessage:"Left"})],["ArrowRight",n.formatMessage({id:"shortcut.arrowRight",defaultMessage:"Right"})],["ArrowUp",n.formatMessage({id:"shortcut.arrowUp",defaultMessage:"Up"})],["ArrowDown",n.formatMessage({id:"shortcut.arrowDown",defaultMessage:"Down"})],["Ctrl",n.formatMessage({id:"shortcut.ctrl",defaultMessage:"Ctrl"})],["Delete",n.formatMessage({id:"shortcut.delete",defaultMessage:"Delete"})],["Minus",n.formatMessage({id:"shortcut.minus",defaultMessage:"Minus"})],["Plus",n.formatMessage({id:"shortcut.plus",defaultMessage:"Plus"})],["Shift",n.formatMessage({id:"shortcut.shift",defaultMessage:"Shift"})]]),r=t.split("-").map((function(e){var t;return null!==(t=i.get(e))&&void 0!==t?t:e})).join(" ");return Object(a.jsx)("span",{className:"text-muted float-end",children:r})};var st=function(e){var t=e.onClick,n=e.shortcut,i=e.active,r=e.children;return Ce(n,(function(){null===t||void 0===t||t()})),Object(a.jsx)("li",{children:Object(a.jsxs)("button",{onClick:function(e){e.preventDefault(),null===t||void 0===t||t()},className:at()("btn btn-link dropdown-item",{active:i}),children:[r,n&&Object(a.jsx)(rt,{shortcut:n})]})})};var ot=function(e){var t=e.placement,n=void 0===t?"start":t,i=e.labelledBy,r=e.children;return Object(a.jsx)("ul",{className:at()("dropdown-menu","dropdown-menu-".concat(n)),"aria-labelledby":i,children:r})},ct=n(42);var ut=function(e){var t=e.id,n=e.className,i=e.children,s=Object(r.useRef)(null);return Object(a.jsx)("button",{id:t,ref:function(e){var t;null===e?(null===(t=s.current)||void 0===t||t.dispose(),s.current=null):s.current=new ct.a(e)},"aria-expanded":"false","data-bs-toggle":"dropdown",className:at()("btn","btn-link","dropdown-toggle",n),children:i})},lt=n(15),ht=n.n(lt);n(56),n(57),n(58),n(59),n(60),n(62),n(63),n(64),n(65),n(66);function vt(e,t){return(null===t||void 0===t?void 0:t())&&setTimeout((function(){e.state.completionActive||e.showHint({completeSingle:!1})}),100),ht.a.Pass}function ft(e){return vt(e,(function(){var t=e.getCursor();return"<"===e.getRange(ht.a.Pos(t.line,t.ch-1),t)}))}function dt(e){return vt(e,(function(){var t=e.getTokenAt(e.getCursor());return!!("string"!==t.type||/['"]/.test(t.string.charAt(t.string.length-1))&&1!==t.string.length)&&ht.a.innerMode(e.getMode(),t.state).state.tagName}))}var pt=function(e){var t=e.language,n=e.value,i=e.schema,s=e.onChange,o=Object(r.useRef)(s),c=Object(r.useRef)(null),u=Object(r.useRef)(null);return Object(r.useEffect)((function(){o.current=s}),[s]),Object(r.useEffect)((function(){var e="xml"===t?"xml":"text/x-scss",n={schemaInfo:i},a=ht.a.fromTextArea(c.current,{mode:e,lineNumbers:!0,theme:"nord",matchTags:!0,autocorrect:!0,tabSize:2,extraKeys:{"'<'":vt,"'/'":ft,"' '":dt,"'='":dt,"Ctrl-Space":"autocomplete","Ctrl-/":"toggleComment"},hintOptions:n});return u.current=a,function(){a.toTextArea()}}),[t,i]),Object(r.useEffect)((function(){function e(e){e.key.includes("Arrow")&&e.stopPropagation()}function t(){var e,t=u.current.getValue();t!==n&&(null===(e=o.current)||void 0===e||e.call(o,t))}return u.current.getValue()!==n&&u.current.setValue(n),u.current.getWrapperElement().addEventListener("keydown",e),u.current.on("change",t),function(){u.current.getWrapperElement().removeEventListener("keydown",e),u.current.off("change",t)}}),[n]),Object(a.jsx)("textarea",{ref:c,defaultValue:n})};var gt=function(e){var t=e.href,n=e.className,i=e.children;return Object(a.jsx)("a",{href:t,className:n,target:"_blank",rel:"noopener noreferrer",children:i})};n(67);var mt=function(e){var t=e.country;return Object(a.jsx)("span",{className:at()("Flag me-2",t)})},yt=n(39);n(68);var bt=function(e){var t=e.name,n=e.color,i=void 0===n?Me.DARK:n,r=e.size,s=void 0===r?20:r;return Object(a.jsx)("svg",{className:"Icon me-2",width:s,height:s,fill:i.toHexString(),children:Object(a.jsx)("use",{xlinkHref:"".concat(yt.a,"#").concat(t)})})},jt=n.p+"static/media/logo.4da087a9.png";var Ot=function(e){var t=e.children;return Object(a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",style:{gridArea:"menu"},children:Object(a.jsxs)(tt,{children:[Object(a.jsxs)("span",{className:"navbar-brand",children:[Object(a.jsx)("img",{alt:"Logo",src:jt,height:32,width:32,className:"d-inline-block align-top"})," ",Object(a.jsx)(et.a,{id:"title",defaultMessage:"UML Editor"})]}),Object(a.jsx)("ul",{className:"navbar-nav me-auto d-flex flex-grow-1",children:t})]})})};var xt=function(e){var t=e.className,n=e.children;return Object(a.jsx)("li",{className:at()("nav-item",t),children:n})};var wt=function(e){var t=e.active,n=void 0!==t&&t,i=e.placement,r=e.title,s=e.children,o=Ae("Menu");return Object(a.jsxs)(xt,{className:"dropdown",children:[Object(a.jsx)(ut,{id:o,className:at()("nav-link",{active:n}),children:r}),Object(a.jsx)(ot,{placement:i,labelledBy:o,children:s})]})};n(69);var kt=function(e){var t=e.file,n=e.onDeleteElement;return Object(a.jsxs)(st,{onClick:function(){var e,i=Object(x.a)(t.model);try{for(i.s();!(e=i.n()).done;){var a=e.value;(a.isSelected()||a instanceof Z&&(a.to.isSelected()||a.from.isSelected()))&&n(a)}}catch(r){i.e(r)}finally{i.f()}},shortcut:"Delete",children:[Object(a.jsx)(bt,{name:"file-x"})," ",Object(a.jsx)(et.a,{id:"edit.delete",defaultMessage:"Delete"})]})};var St=function(e){var t=e.file,n=e.onAddElement;return Object(a.jsxs)(st,{onClick:function(){var e,i=new Set,a=Object(x.a)(t.model);try{for(a.s();!(e=a.n()).done;){var r=e.value;r.isSelected()&&(i.add(r),r.setSelected(!1))}}catch(f){a.e(f)}finally{a.f()}var s,o=Object(x.a)(i);try{for(o.s();!(s=o.n()).done;){var c=s.value,u=c.clone();u.setSelected(!0);var l,h=Object(x.a)(c.getChildren());try{for(h.s();!(l=h.n()).done;){var v=l.value.clone();u.addChild(v)}}catch(f){h.e(f)}finally{h.f()}n(u)}}catch(f){o.e(f)}finally{o.f()}},shortcut:"Ctrl-D",children:[Object(a.jsx)(bt,{name:"files"})," ",Object(a.jsx)(et.a,{id:"edit.duplicate",defaultMessage:"Duplicate"})]})};var Et=function(e){var t=e.onFileChange,n=Object(u.a)();return Object(a.jsxs)(st,{onClick:function(){var e=n.formatMessage({id:"untitled",defaultMessage:"Untitled"}),i=n.formatMessage({id:"file.new.message",defaultMessage:"Choose a title for the new document"}),a=window.prompt(i,e);null!==a&&t({title:a,css:j,xml:b})},children:[Object(a.jsx)(bt,{name:"file-earmark-plus"})," ",Object(a.jsx)(et.a,{id:"file.new",defaultMessage:"New ..."})]})};var Tt=function(e){var t=e.onFileChange;return Object(a.jsxs)(st,{onClick:function(){var e;(e=".uml",new Promise((function(t){var n=document.createElement("input");n.addEventListener("change",(function(){n.files.length>0&&t(n.files.item(0).text())}),{once:!0}),n.type="file",n.accept=e,n.multiple=!1,n.click()}))).then((function(e){var n=me.loadFromString(e);t(n)}))},shortcut:"Ctrl-O",children:[Object(a.jsx)(bt,{name:"folder"})," ",Object(a.jsx)(et.a,{id:"file.open",defaultMessage:"Open ..."})]})};var At=function(e){var t=e.file,n=e.onTitleChange,i=Object(u.a)();return Object(a.jsxs)(st,{onClick:function(){var e=i.formatMessage({id:"file.rename.message",defaultMessage:"New document title"}),a=window.prompt(e,t.title);null!==a&&n(a)},children:[Object(a.jsx)(bt,{name:"pencil"})," ",Object(a.jsx)(et.a,{id:"file.rename",defaultMessage:'Rename "{title}" ...',values:{title:t.title}})]})};var Ct=function(e){var t=e.file;return Object(a.jsxs)(st,{onClick:function(){var e=btoa(me.saveToString(t)),n=new URL("data:text/x-uml;base64,".concat(e));v("".concat(h(t.title),".uml"),n.toString())},shortcut:"Ctrl-S",children:[Object(a.jsx)(bt,{name:"cloud-download"})," ",Object(a.jsx)(et.a,{id:"file.save",defaultMessage:"Save ..."})]})};var Nt=function(e){var t=e.locale,n=e.name,i=e.country,r=void 0===i?t:i,s=e.onChange,o=Object(u.a)();return Object(a.jsxs)(st,{active:o.locale===t,onClick:function(){return s(t)},children:[Object(a.jsx)(mt,{country:r})," ",n]})};var Rt=function(e){var t=e.onMove;return Object(a.jsxs)(st,{onClick:function(){t()},shortcut:"ArrowDown",children:[Object(a.jsx)(bt,{name:"arrow-down-square"})," ",Object(a.jsx)(et.a,{id:"view.moveDown",defaultMessage:"Move Down"})]})};var Dt=function(e){var t=e.onMove;return Object(a.jsxs)(st,{onClick:function(){t()},shortcut:"ArrowLeft",children:[Object(a.jsx)(bt,{name:"arrow-left-square"})," ",Object(a.jsx)(et.a,{id:"view.moveLeft",defaultMessage:"Move Left"})]})};var Lt=function(e){var t=e.onMove;return Object(a.jsxs)(st,{onClick:function(){t()},shortcut:"ArrowRight",children:[Object(a.jsx)(bt,{name:"arrow-right-square"})," ",Object(a.jsx)(et.a,{id:"view.moveRight",defaultMessage:"Move Right"})]})};var It=function(e){var t=e.onMove;return Object(a.jsxs)(st,{onClick:function(){t()},shortcut:"ArrowUp",children:[Object(a.jsx)(bt,{name:"arrow-up-square"})," ",Object(a.jsx)(et.a,{id:"view.moveUp",defaultMessage:"Move Up"})]})},Mt=function(){function e(t){Object(k.a)(this,e),this.canvas=void 0,this.canvas=t}return Object(S.a)(e,[{key:"renderShape",value:function(e,t){switch(e){case U.RECTANGLE:return void this.drawRectangleShape(t);case U.ELLIPSE:return void this.drawEllipseShape(t);case U.FOLDER:return void this.drawFolderShape(t);case U.NOTE:return void this.drawNoteShape(t);case U.BOX:return void this.drawBoxShape(t);case U.FILE:return void this.drawFileShape(t);case U.COMPONENT:return void this.drawComponentShape(t);case U.DIAMOND:return void this.drawDiamondShape(t);case U.TRAPEZE:return void this.drawTrapezeShape(t);case U.HEXAGONAL:return void this.drawHexagonalShape(t)}}},{key:"drawRectangleShape",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height;this.canvas.rect(t,n,i,a)}},{key:"drawEllipseShape",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height;this.canvas.ellipse(t,n,i,a)}},{key:"drawFolderShape",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height;this.canvas.rect(t,n-20,80,20),this.canvas.rect(t,n,i,a)}},{key:"drawNoteShape",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height,r=30;this.canvas.moveTo(t,n),this.canvas.lineTo(t,n+a),this.canvas.lineTo(t+i-r,n+a),this.canvas.lineTo(t+i,n+a-r),this.canvas.lineTo(t+i,n),this.canvas.closePath(),this.canvas.moveTo(t+i-r,n+a),this.canvas.lineTo(t+i,n+a-r),this.canvas.lineTo(t+i-r,n+a-r),this.canvas.closePath()}},{key:"drawBoxShape",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height,r=20;this.canvas.rect(t,n,i,a),this.canvas.moveTo(t,n),this.canvas.lineTo(t+i,n),this.canvas.lineTo(t+i+r,n-r),this.canvas.lineTo(t+r,n-r),this.canvas.closePath(),this.canvas.moveTo(t+i,n),this.canvas.lineTo(t+i,n+a),this.canvas.lineTo(t+i+r,n+a-r),this.canvas.lineTo(t+i+r,n-r),this.canvas.closePath()}},{key:"drawFileShape",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height,r=30;this.canvas.moveTo(t+r,n),this.canvas.lineTo(t,n+r),this.canvas.lineTo(t,n+a),this.canvas.lineTo(t+i,n+a),this.canvas.lineTo(t+i,n),this.canvas.closePath(),this.canvas.moveTo(t+r,n),this.canvas.lineTo(t,n+r),this.canvas.lineTo(t+r,n+r),this.canvas.closePath()}},{key:"drawComponentShape",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height,r=40,s=20,o=(a-60)/2;this.canvas.moveTo(t,n),this.canvas.lineTo(t,n+o),this.canvas.lineTo(t+20,n+o),this.canvas.lineTo(t+20,n+o+s),this.canvas.lineTo(t,n+o+s),this.canvas.lineTo(t,n+o+40),this.canvas.lineTo(t+20,n+o+40),this.canvas.lineTo(t+20,n+o+60),this.canvas.lineTo(t,n+o+60),this.canvas.lineTo(t,n+a),this.canvas.lineTo(t+i,n+a),this.canvas.lineTo(t+i,n),this.canvas.closePath(),this.canvas.rect(t+-20,n+o,r,s),this.canvas.rect(t+-20,n+o+40,r,s)}},{key:"drawDiamondShape",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height,r=t+i/2,s=n+a/2;this.canvas.moveTo(r,n),this.canvas.lineTo(t+i,s),this.canvas.lineTo(r,n+a),this.canvas.lineTo(t,s),this.canvas.closePath()}},{key:"drawTrapezeShape",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height,r=t+i/6,s=t+5*i/6,o=t+i;this.canvas.moveTo(r,n),this.canvas.lineTo(o,n),this.canvas.lineTo(s,n+a),this.canvas.lineTo(t,n+a),this.canvas.closePath()}},{key:"drawHexagonalShape",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height,r=t+i/2,s=n+a/4,o=n+3*a/4;this.canvas.moveTo(r,n),this.canvas.lineTo(t+i,s),this.canvas.lineTo(t+i,o),this.canvas.lineTo(r,n+a),this.canvas.lineTo(t,o),this.canvas.lineTo(t,s),this.canvas.closePath()}}]),e}(),Pt=function(){function e(t,n,i){Object(k.a)(this,e),this.renderer=void 0,this.context=void 0,this.canvas=void 0,this.shapeRenderer=void 0,this.renderer=t,this.context=n,this.canvas=i,this.shapeRenderer=new Mt(i)}return Object(S.a)(e,[{key:"renderClassifier",value:function(e){this.context.push(e.getTagName(),e.getWidth()-20,e.getHeight()-20),this.canvas.save(),this.applyStyle(e),this.drawShape(e),this.canvas.fill(),this.canvas.stroke(),this.canvas.clip(),this.canvas.translate(e.getLeft()+g,e.getTop()+g);var t,n=Object(x.a)(e.getChildren());try{for(n.s();!(t=n.n()).done;){t.value.render(this.renderer)}}catch(i){n.e(i)}finally{n.f()}this.canvas.restore(),this.context.pop()}},{key:"isPointInClassifier",value:function(e,t,n){this.canvas.save(),this.drawShape(e);var i=this.canvas.getTransform().transformPoint({x:t,y:n}),a=this.canvas.isPointInPath(i.x,i.y);return this.canvas.restore(),a}},{key:"applyStyle",value:function(e){var t=this.context.getStyleProperties();this.canvas.lineWidth=t.getFloat("line-width",1.5),this.canvas.strokeColor=t.getColor("stroke",Me.DARK);var n=t.getColor("fill",Me.WHITE);e.isHovered()&&(n=n.mix(Me.INFO,.25)),this.canvas.fillColor=n}},{key:"drawShape",value:function(e){this.canvas.beginPath(),this.shapeRenderer.renderShape(e.shape,e.getRectangle())}}]),e}();var Ht=function(e,t){for(var n,i,a,r,s,o,c=t.from,u=t.to,l=c.getAnchorX(t.fromAnchor),h=c.getAnchorY(t.fromAnchor),v=u.getAnchorX(t.toAnchor),f=u.getAnchorY(t.toAnchor),d=Math.abs(v-l),p=Math.abs(f-h),g=v>l?1:-1,m=f>h?1:-1,y=!0,b=!1,j=l,O=h,x=d-p;(j!==v||O!==f)&&(y&&!e.isPointInClassifier(c,j,O)&&(n=j,a=O,y=!1),!b&&e.isPointInClassifier(u,j,O)&&(i=s||j,r=o||O,b=!0),y||!b);){s=j,o=O;var w=2*x;w>-p&&(x-=p,j+=g),w<d&&(x+=d,O+=m)}return void 0===n||void 0===a||void 0===i||void 0===r?[l,h,v,f]:[n,a,i,r]},Wt=function(){function e(t,n){Object(k.a)(this,e),this.renderer=void 0,this.canvas=void 0,this.renderer=t,this.canvas=n}return Object(S.a)(e,[{key:"renderRelationship",value:function(e){var t=Ht(this.renderer,e),n=Object(w.a)(t,4),i=n[0],a=n[1],r=n[2],s=n[3],o=Math.atan2(s-a,r-i);this.canvas.save(),this.canvas.beginPath(),this.canvas.moveTo(i,a),this.canvas.lineTo(r,s),this.applyRelationshipStyle(e),this.canvas.stroke(),this.drawFromTip(e,o,i,a),this.drawToTip(e,o,r,s),this.canvas.restore()}},{key:"applyRelationshipStyle",value:function(e){switch(this.canvas.lineWidth=1.5,this.canvas.strokeColor=Me.DARK,this.canvas.fillColor=Me.WHITE,e.linePattern){case _.SOLID:this.canvas.setLineDash([]);break;case _.DOTS:this.canvas.setLineDash([2,2]);break;case _.SMALL_DASHES:this.canvas.setLineDash([5,5]);break;case _.LARGE_DASHES:this.canvas.setLineDash([10,10]);break;case _.TIGHT_DASHES:this.canvas.setLineDash([15,5])}}},{key:"drawFromTip",value:function(e,t,n,i){this.drawTip(e.fromTip,n,i,t+Math.PI)}},{key:"drawToTip",value:function(e,t,n,i){this.drawTip(e.toTip,n,i,t)}},{key:"drawTip",value:function(e,t,n,i){e!==V.NONE&&(this.canvas.setLineDash([]),this.canvas.save(),this.canvas.translate(t,n),this.canvas.rotate(i),this.drawTipPath(e),this.canvas.restore())}},{key:"drawTipPath",value:function(e){switch(e){case V.ARROW:this.drawArrow();break;case V.TRIANGLE:this.drawTriangle();break;case V.FILLED_TRIANGLE:this.canvas.fillColor=this.canvas.strokeColor,this.drawTriangle();break;case V.DIAMOND:this.drawDiamond();break;case V.FILLED_DIAMOND:this.canvas.fillColor=this.canvas.strokeColor,this.drawDiamond();break;case V.CIRCLE:this.drawCircle();break;case V.FILLED_CIRCLE:this.canvas.fillColor=this.canvas.strokeColor,this.drawCircle()}}},{key:"drawArrow",value:function(){this.canvas.beginPath(),this.canvas.moveTo(0,0),this.canvas.lineTo(-20,8),this.canvas.moveTo(0,0),this.canvas.lineTo(-20,-8),this.canvas.closePath(),this.canvas.stroke()}},{key:"drawTriangle",value:function(){this.canvas.beginPath(),this.canvas.moveTo(0,0),this.canvas.lineTo(-20,10),this.canvas.lineTo(-20,-10),this.canvas.closePath(),this.canvas.fill(),this.canvas.stroke()}},{key:"drawDiamond",value:function(){this.canvas.beginPath(),this.canvas.moveTo(0,0),this.canvas.lineTo(-15,8),this.canvas.lineTo(-30,0),this.canvas.lineTo(-15,-8),this.canvas.closePath(),this.canvas.fill(),this.canvas.stroke()}},{key:"drawCircle",value:function(){this.canvas.beginPath(),this.canvas.ellipse(-20,-10,20,20),this.canvas.closePath(),this.canvas.fill(),this.canvas.stroke()}}]),e}(),zt=function e(t,n,i){Object(k.a)(this,e),this.x=void 0,this.y=void 0,this.anchor=void 0,this.x=t,this.y=n,this.anchor=i},Ft=function(){function e(t){Object(k.a)(this,e),this.ctx=void 0,this.ctx=t}return Object(S.a)(e,[{key:"setLineDash",value:function(e){this.ctx.setLineDash(e)}},{key:"save",value:function(){this.ctx.save()}},{key:"restore",value:function(){this.ctx.restore()}},{key:"translate",value:function(e,t){this.ctx.translate(e,t)}},{key:"rotate",value:function(e){this.ctx.rotate(e)}},{key:"beginPath",value:function(){this.ctx.beginPath()}},{key:"rect",value:function(e,t,n,i){this.ctx.rect(e,t,n,i)}},{key:"ellipse",value:function(e,t,n,i){var a=n/2,r=i/2;this.ctx.ellipse(e+a,t+r,a,r,0,0,2*Math.PI)}},{key:"moveTo",value:function(e,t){this.ctx.moveTo(e,t)}},{key:"lineTo",value:function(e,t){this.ctx.lineTo(e,t)}},{key:"isPointInPath",value:function(e,t){return this.ctx.isPointInPath(e,t)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"getTransform",value:function(){return this.ctx.getTransform()}},{key:"fill",value:function(){this.ctx.fill()}},{key:"stroke",value:function(){this.ctx.stroke()}},{key:"clip",value:function(){this.ctx.clip()}},{key:"fillText",value:function(e,t,n,i){var a=this.ctx.measureText(e),r=i+a.fontBoundingBoxAscent,s=n;"middle"===t?s+=a.width/2:"end"===t&&(s+=a.width),this.ctx.fillText(e,s,r)}},{key:"getFontAttribute",value:function(e){return this.ctx.font.split(" ",4)[e]}},{key:"updateFontAttribute",value:function(e,t){var n=this.ctx.font.split(" ",4);n[e]=t,this.ctx.font=n.join(" ")}},{key:"fillColor",get:function(){return Me.fromHexString(String(this.ctx.fillStyle))},set:function(e){this.ctx.fillStyle=e.toHexString()}},{key:"strokeColor",get:function(){return Me.fromHexString(String(this.ctx.strokeStyle))},set:function(e){this.ctx.strokeStyle=e.toHexString()}},{key:"lineWidth",get:function(){return this.ctx.lineWidth},set:function(e){this.ctx.lineWidth=e}},{key:"fontStyle",get:function(){return this.getFontAttribute(0)},set:function(e){this.updateFontAttribute(0,e)}},{key:"fontWeight",get:function(){return this.getFontAttribute(1)},set:function(e){this.updateFontAttribute(1,e)}},{key:"fontSize",get:function(){return this.getFontAttribute(2)},set:function(e){this.updateFontAttribute(2,e)}},{key:"fontFamily",get:function(){return this.getFontAttribute(3)},set:function(e){this.updateFontAttribute(3,e)}}]),e}(),Gt=function(){function e(t,n,i){Object(k.a)(this,e),this.width=void 0,this.height=void 0,this.context=void 0,this.style=void 0,this.width=[t],this.height=[n],this.context=[],this.style=i}return Object(S.a)(e,[{key:"push",value:function(e,t,n){this.context.unshift(e),this.width.unshift(null!==t&&void 0!==t?t:this.getWidth()),this.height.unshift(null!==n&&void 0!==n?n:this.getHeight())}},{key:"pop",value:function(){this.context.shift(),this.width.shift(),this.height.shift()}},{key:"getName",value:function(){return this.context[0]}},{key:"getWidth",value:function(){return this.width[0]}},{key:"getHeight",value:function(){return this.height[0]}},{key:"getStyleProperties",value:function(){return this.style.getProperties(Object(R.a)(this.context).reverse())}}]),e}(),Ut=function(){function e(t,n,i){Object(k.a)(this,e),this.context=void 0,this.canvas=void 0,this.classifierRenderer=void 0,this.relationshipRenderer=void 0,this.grid=void 0,this.translateX=void 0,this.translateY=void 0,this.zoom=void 0,this.context=new Gt(t.width,t.height,n),this.grid=i.grid,this.translateX=i.translateX,this.translateY=i.translateY,this.zoom=i.zoom,this.canvas=t.getContext("2d");var a=new Ft(this.canvas);this.classifierRenderer=new Pt(this,this.context,a),this.relationshipRenderer=new Wt(this,a)}return Object(S.a)(e,[{key:"transformPoint",value:function(e,t){return{x:(e-this.translateX)/this.zoom,y:(t-this.translateY)/this.zoom}}},{key:"clear",value:function(){this.canvas.clearRect(0,0,this.context.getWidth(),this.context.getHeight()),this.grid&&this.renderGrid()}},{key:"renderGrid",value:function(){var e=-this.translateX,t=this.context.getWidth()-this.translateX,n=-this.translateY,i=this.context.getHeight()-this.translateY,a=20*this.zoom,r=this.floorBy(e,a),s=this.ceilBy(t,a),o=this.floorBy(n,a),c=this.ceilBy(i,a);this.canvas.save(),this.canvas.translate(this.translateX,this.translateY),this.canvas.beginPath(),this.canvas.strokeStyle="#00000033";for(var u=r;u<s;u+=a)this.canvas.moveTo(u,n),this.canvas.lineTo(u,i);for(var l=o;l<c;l+=a)this.canvas.moveTo(e,l),this.canvas.lineTo(t,l);this.canvas.stroke(),this.canvas.restore()}},{key:"floorBy",value:function(e,t){return Math.floor(e/t)*t}},{key:"ceilBy",value:function(e,t){return Math.ceil(e/t)*t}},{key:"renderDiagram",value:function(e){this.canvas.save(),this.canvas.translate(this.translateX,this.translateY),this.canvas.scale(this.zoom,this.zoom);var t,n=Object(x.a)(e.getChildren());try{for(n.s();!(t=n.n()).done;){t.value.render(this)}}catch(i){n.e(i)}finally{n.f()}this.renderHandles(e),this.canvas.restore()}},{key:"renderClassifier",value:function(e){this.classifierRenderer.renderClassifier(e)}},{key:"isPointInClassifier",value:function(e,t,n){return this.classifierRenderer.isPointInClassifier(e,t,n)}},{key:"renderRelationship",value:function(e){this.relationshipRenderer.renderRelationship(e)}},{key:"renderText",value:function(e){this.context.push("Text"),this.drawText(e.text,"14pt","left"),this.canvas.translate(0,20),this.context.pop()}},{key:"renderTitle",value:function(e){this.context.push("Title"),this.drawText(e.text,"14pt","center"),this.canvas.translate(0,20),this.context.pop()}},{key:"renderSeparator",value:function(e){this.canvas.save(),this.canvas.beginPath(),this.canvas.moveTo(-10,g),this.canvas.lineTo(this.context.getWidth()+g,g),this.canvas.lineWidth=1.5,this.canvas.strokeStyle="#212529",this.canvas.stroke(),this.canvas.restore(),this.canvas.translate(0,20)}},{key:"renderStereotype",value:function(e){var t=this.context.getName();this.context.push("Stereotype"),this.drawText("\xab".concat(t,"\xbb"),"12pt","center"),this.canvas.translate(0,20),this.context.pop()}},{key:"drawText",value:function(e,t,n){var i=this.context.getStyleProperties(),a=i.getString("font-weight","normal"),r=i.getString("font-style","normal"),s=i.getString("font-family","Arial, Helvetica, system-ui, sans-serif");this.canvas.save(),this.canvas.beginPath(),this.canvas.font="".concat(r," ").concat(a," ").concat(t," ").concat(s),this.canvas.fillStyle=i.getColor("color",Me.DARK).toHexString();var o=this.canvas.measureText(e),c="center"===n?(this.context.getWidth()-o.width)/2:0;this.canvas.fillText(e,c,o.fontBoundingBoxAscent),this.canvas.restore()}},{key:"renderHandles",value:function(e){this.canvas.save(),this.canvas.fillStyle="white",this.canvas.strokeStyle="black",this.canvas.lineWidth=1;var t,n=Object(x.a)(this.getHandles(e));try{for(n.s();!(t=n.n()).done;){var i=t.value,a=i.x,r=i.y;this.renderHandleAtPoint(a,r)}}catch(s){n.e(s)}finally{n.f()}this.canvas.restore()}},{key:"getHandles",value:W.a.mark((function e(t){var n,i,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(x.a)(t.getChildren()),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=9;break}if(!((a=i.value)instanceof Y&&a.isSelected())){e.next=7;break}return e.delegateYield(this.getClassifierHandles(a),"t0",7);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(1),n.e(e.t1);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"renderHandleAtPoint",value:function(e,t){this.canvas.beginPath(),this.canvas.rect(e-y,t-y,9,9),this.canvas.fill(),this.canvas.stroke()}},{key:"findHandleForPoint",value:function(e,t,n){var i,a=Object(x.a)(this.getHandles(e));try{for(a.s();!(i=a.n()).done;){var r=i.value;if(this.isPointInHandle(r,t,n))return r}}catch(s){a.e(s)}finally{a.f()}}},{key:"isPointInHandle",value:function(e,t,n){return Math.abs(t-e.x)<=y&&Math.abs(n-e.y)<=y}},{key:"getClassifierHandles",value:W.a.mark((function e(t){var n,i,a,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getLeft(),i=t.getRight(),a=t.getTop(),r=t.getBottom(),e.next=6,new zt(n,a,D.NW);case 6:return e.next=8,new zt(t.getCenterX(),a,D.N);case 8:return e.next=10,new zt(i,a,D.NE);case 10:return e.next=12,new zt(n,t.getCenterY(),D.W);case 12:return e.next=14,new zt(i,t.getCenterY(),D.E);case 14:return e.next=16,new zt(n,r,D.SW);case 16:return e.next=18,new zt(t.getCenterX(),r,D.S);case 18:return e.next=20,new zt(i,r,D.SE);case 20:case"end":return e.stop()}}),e)}))}]),e}(),Yt=function(){function e(t){Object(k.a)(this,e),this.fillColor=Me.WHITE,this.strokeColor=Me.DARK,this.lineWidth=1,this.fontFamily="system-ui",this.fontSize="1rem",this.fontStyle="normal",this.fontWeight="normal",this.document=void 0,this.stack=void 0,this.paths=[],this.saved=[],this.matrix=[new DOMMatrix],this.path=void 0,this.dash=[],this.document=t.ownerDocument,this.stack=[t]}return Object(S.a)(e,[{key:"setLineDash",value:function(e){this.dash=e}},{key:"save",value:function(){this.saved.push(this.getContainer()),this.matrix.push(new DOMMatrix(this.currentMatrix().toString()))}},{key:"currentMatrix",value:function(){return this.matrix[this.matrix.length-1]}},{key:"restore",value:function(){var e=this.saved.pop();this.stack.splice(this.stack.indexOf(e)+1),this.matrix.pop()}},{key:"translate",value:function(e,t){var n=this.createSVG("g");n.setAttribute("transform","translate(".concat(e,",").concat(t,")")),this.getContainer().append(n),this.stack.push(n),this.currentMatrix().translate(e,t)}},{key:"rotate",value:function(e){var t=this.createSVG("g");t.setAttribute("transform","rotate(".concat(this.radiansToDegrees(e),")")),this.getContainer().append(t),this.stack.push(t),this.currentMatrix().rotate(e)}},{key:"beginPath",value:function(){this.paths.splice(0)}},{key:"rect",value:function(e,t,n,i){var a=this.createSVG("rect");a.setAttribute("x",String(e)),a.setAttribute("y",String(t)),a.setAttribute("width",String(n)),a.setAttribute("height",String(i)),this.paths.push(a)}},{key:"ellipse",value:function(e,t,n,i){var a=this.createSVG("ellipse"),r=n/2,s=i/2;a.setAttribute("cx",String(e+r)),a.setAttribute("cy",String(t+s)),a.setAttribute("rx",String(r)),a.setAttribute("ry",String(s)),this.paths.push(a)}},{key:"moveTo",value:function(e,t){this.path=this.createSVG("path"),this.path.setAttribute("d","M".concat(e,",").concat(t)),this.paths.push(this.path)}},{key:"lineTo",value:function(e,t){var n=this.path.getAttribute("d");this.path.setAttribute("d","".concat(n," L").concat(e,",").concat(t))}},{key:"closePath",value:function(){var e=this.path.getAttribute("d");this.path.setAttribute("d","".concat(e," Z"))}},{key:"getTransform",value:function(){return this.currentMatrix()}},{key:"isPointInPath",value:function(e,t){return!1}},{key:"fill",value:function(){this.appendPaths();var e,t=Object(x.a)(this.paths);try{for(t.s();!(e=t.n()).done;){e.value.setAttribute("fill",this.fillColor.toHexString())}}catch(n){t.e(n)}finally{t.f()}}},{key:"stroke",value:function(){this.appendPaths();var e,t=Object(x.a)(this.paths);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.setAttribute("stroke",this.strokeColor.toHexString()),n.setAttribute("stroke-width",String(this.lineWidth)),n.setAttribute("stroke-dasharray",this.dash.join(" "))}}catch(i){t.e(i)}finally{t.f()}}},{key:"clip",value:function(){}},{key:"fillText",value:function(e,t,n,i){var a=this.createSVG("text");a.setAttribute("x",String(n)),a.setAttribute("y",String(i+10)),a.setAttribute("text-anchor",t),a.setAttribute("font-family",this.fontFamily),a.setAttribute("font-size",this.fontSize),a.setAttribute("font-style",this.fontStyle),a.setAttribute("font-weight",this.fontWeight),a.appendChild(this.document.createTextNode(this.encodeUTF8(e))),this.paths.push(a),this.fill()}},{key:"encodeUTF8",value:function(e){var t=(new TextEncoder).encode(e);return String.fromCharCode.apply(String,Object(R.a)(t))}},{key:"appendPaths",value:function(){var e;(e=this.getContainer()).append.apply(e,Object(R.a)(this.paths))}},{key:"getContainer",value:function(){return this.stack[this.stack.length-1]}},{key:"createSVG",value:function(e){return this.document.createElementNS("http://www.w3.org/2000/svg",e)}},{key:"radiansToDegrees",value:function(e){return 180*e/Math.PI}}]),e}(),Bt=function(){function e(t,n){Object(k.a)(this,e),this.context=void 0,this.canvas=void 0,this.classifierRenderer=void 0,this.relationshipRenderer=void 0,this.context=new Gt(t.width.baseVal.value,t.height.baseVal.value,n),this.canvas=new Yt(t),this.classifierRenderer=new Pt(this,this.context,this.canvas),this.relationshipRenderer=new Wt(this,this.canvas)}return Object(S.a)(e,[{key:"renderDiagram",value:function(e){var t,n=Object(x.a)(e.getChildren());try{for(n.s();!(t=n.n()).done;){t.value.render(this)}}catch(i){n.e(i)}finally{n.f()}}},{key:"renderClassifier",value:function(e){this.classifierRenderer.renderClassifier(e)}},{key:"isPointInClassifier",value:function(e,t,n){return this.classifierRenderer.isPointInClassifier(e,t,n)}},{key:"renderRelationship",value:function(e){this.relationshipRenderer.renderRelationship(e)}},{key:"renderText",value:function(e){this.context.push("Text"),this.drawText(e.text,"14pt","start"),this.canvas.translate(0,20),this.context.pop()}},{key:"renderTitle",value:function(e){this.context.push("Title"),this.drawText(e.text,"14pt","middle"),this.canvas.translate(0,20),this.context.pop()}},{key:"renderStereotype",value:function(e){var t=this.context.getName();this.context.push("Stereotype"),this.drawText("\xab".concat(t,"\xbb"),"12pt","middle"),this.canvas.translate(0,20),this.context.pop()}},{key:"renderSeparator",value:function(e){this.canvas.beginPath(),this.canvas.moveTo(-10,g),this.canvas.lineTo(this.context.getWidth()+g,g),this.canvas.lineWidth=1.5,this.canvas.strokeColor=Me.DARK,this.canvas.stroke(),this.canvas.translate(0,20)}},{key:"drawText",value:function(e,t,n){var i=this.context.getStyleProperties();this.canvas.fontWeight=i.getString("font-weight","normal"),this.canvas.fontStyle=i.getString("font-style","normal"),this.canvas.fontSize=i.getString("font-size",t),this.canvas.fontFamily=i.getString("font-family","Arial, Helvetica, system-ui, sans-serif"),this.canvas.save(),this.canvas.beginPath(),this.canvas.fillColor=i.getColor("color",Me.DARK);var a="middle"===n?this.context.getWidth()/2:0;this.canvas.fillText(e,n,a,4),this.canvas.restore()}}]),e}();var Xt=function(e){var t=e.file;return Object(a.jsxs)(st,{onClick:function(){var e=document.createElement("canvas");e.width=t.model.getWidth()+20,e.height=t.model.getHeight()+20,new Ut(e,t.style,{grid:!1,translateX:m-t.model.getLeft(),translateY:m-t.model.getTop(),zoom:1}).renderDiagram(t.model);var n=e.toDataURL("image/png");v("".concat(h(t.title),".png"),n)},shortcut:"Ctrl-E",children:[Object(a.jsx)(bt,{name:"image"})," ",Object(a.jsx)(et.a,{id:"export.png",defaultMessage:"As PNG ..."})]})};var _t=function(e){var t=e.file;return Object(a.jsxs)(st,{onClick:function(){var e=[t.model.getLeft()-m,t.model.getTop()-m,t.model.getWidth()+20,t.model.getHeight()+20].join(" "),n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width",String(t.model.getWidth()+20)),n.setAttribute("height",String(t.model.getHeight()+20)),n.setAttribute("viewBox",e),new Bt(n,t.style).renderDiagram(t.model);var i=(new XMLSerializer).serializeToString(n),a=new URL("data:image/svg+xml;base64,".concat(btoa(i))).toString();v("".concat(h(t.title),".svg"),a)},shortcut:"Ctrl-Shift-E",children:[Object(a.jsx)(bt,{name:"code-slash"})," ",Object(a.jsx)(et.a,{id:"export.svg",defaultMessage:"As SVG ..."})]})};var Vt=function(e){var t=e.grid,n=e.onChange,i=t?"grid-3x3-gap-fill":"grid-3x3-gap";return Object(a.jsxs)(st,{onClick:function(){n(!t)},shortcut:"Alt-G",children:[Object(a.jsx)(bt,{name:i})," ",Object(a.jsx)(et.a,{id:"view.grid",defaultMessage:"Toggle Grid"})]})};var Zt=function(e){var t=e.onZoom;return Object(a.jsxs)(st,{onClick:function(){t()},shortcut:"Ctrl-Plus",children:[Object(a.jsx)(bt,{name:"zoom-in"})," ",Object(a.jsx)(et.a,{id:"view.zoomIn",defaultMessage:"Zoom In"})]})};var Kt=function(e){var t=e.onZoom;return Object(a.jsxs)(st,{onClick:function(){t()},shortcut:"Ctrl-Minus",children:[Object(a.jsx)(bt,{name:"zoom-out"})," ",Object(a.jsx)(et.a,{id:"view.zoomOut",defaultMessage:"Zoom Out"})]})};var Jt=function(e){var t=e.onZoom;return Object(a.jsxs)(st,{onClick:function(){t()},shortcut:"Ctrl-0",children:[Object(a.jsx)(bt,{name:"search"})," ",Object(a.jsx)(et.a,{id:"view.zoomReset",defaultMessage:"Zoom Reset"})]})};var qt=function(){var e=qe("title","xml","css","model","style"),t=qe("grid"),n=t.grid,r=t.dispatch,s=Object(u.a)();function o(e){r("file/load",e)}function c(e){r("locale/change",e)}return Object(a.jsxs)(Ot,{children:[Object(a.jsxs)(wt,{title:s.formatMessage({id:"file",defaultMessage:"File"}),children:[Object(a.jsx)(Et,{onFileChange:o}),Object(a.jsx)(nt,{}),Object(a.jsx)(Tt,{onFileChange:o}),Object(a.jsx)(Ct,{file:e}),Object(a.jsx)(nt,{}),Object(a.jsx)(At,{file:e,onTitleChange:function(t){return o(Object(De.a)(Object(De.a)({},e),{},{title:t}))}})]}),Object(a.jsxs)(wt,{title:s.formatMessage({id:"edit",defaultMessage:"Edit"}),children:[Object(a.jsx)(St,{file:e,onAddElement:function(e){r("file/add",e)}}),Object(a.jsx)(kt,{file:e,onDeleteElement:function(e){r("file/delete",e)}})]}),Object(a.jsxs)(wt,{title:s.formatMessage({id:"view",defaultMessage:"View"}),children:[Object(a.jsx)(Dt,{onMove:function(){return r("view/moveLeft")}}),Object(a.jsx)(Lt,{onMove:function(){return r("view/moveRight")}}),Object(a.jsx)(It,{onMove:function(){return r("view/moveUp")}}),Object(a.jsx)(Rt,{onMove:function(){return r("view/moveDown")}}),Object(a.jsx)(nt,{}),Object(a.jsx)(Jt,{onZoom:function(){return r("view/zoomReset")}}),Object(a.jsx)(Zt,{onZoom:function(){return r("view/zoomIn")}}),Object(a.jsx)(Kt,{onZoom:function(){return r("view/zoomOut")}}),Object(a.jsx)(nt,{}),Object(a.jsx)(Vt,{grid:n,onChange:function(e){r("view/grid",e)}})]}),Object(a.jsxs)(wt,{title:s.formatMessage({id:"export",defaultMessage:"Export"}),children:[Object(a.jsx)(Xt,{file:e}),Object(a.jsx)(_t,{file:e})]}),Object(a.jsx)("div",{className:"flex-grow-1"}),Object(a.jsx)(xt,{children:Object(a.jsxs)(gt,{className:"nav-link",href:"https://github.com/ksm2/uml-editor",children:[Object(a.jsx)(bt,{name:"github"}),Object(a.jsx)(et.a,{id:"github",defaultMessage:"GitHub"})]})}),Object(a.jsxs)(wt,{placement:"end",title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(bt,{name:"globe"}),Object(a.jsx)(et.a,{id:"lang",defaultMessage:"Language"})]}),children:[Object(a.jsx)(Nt,{locale:i.GERMAN,name:"Deutsch",onChange:c}),Object(a.jsx)(Nt,{locale:i.ENGLISH,name:"English",onChange:c,country:"uk"})]})]})};function $t(e,t,n){return new Ut(e,t,{grid:n.grid,translateX:n.positionX+e.width/2,translateY:n.positionY+e.height/2,zoom:n.zoom})}var Qt=function(){var e=qe("grid","positionX","positionY","zoom"),t=qe("model","style"),n=t.model,i=t.style,s=t.dispatch,o=Object(r.useRef)(null),c=Object(r.useRef)(null),u=Object(r.useRef)(null),h=Object(r.useRef)(null),v=Object(r.useRef)(null);function f(e){c.current.style.cursor=e}function d(e,t){var i,a,r,o,c=n.find((function(e){return e.isSelected()}));if(c instanceof Y){var l=(r={x:e,y:t},o=u.current,i={x:r.x-o.x,y:r.y-o.y},a=20,{x:Math.round(i.x/a)*a,y:Math.round(i.y/a)*a}),f=l.x,d=l.y;if(v.current===c)return c.setLeft(h.current.x+f),c.setTop(h.current.y+d),void s("file/model",c);v.current instanceof zt&&function(e,t,n,i){t.anchor!==D.W&&t.anchor!==D.NW&&t.anchor!==D.SW||(e.setWidth(h.current.width-n),e.setLeft(h.current.x+n),s("file/model",e)),t.anchor!==D.E&&t.anchor!==D.NE&&t.anchor!==D.SE||(e.setWidth(h.current.width+n),e.setLeft(h.current.x),s("file/model",e)),t.anchor!==D.N&&t.anchor!==D.NW&&t.anchor!==D.NE||(e.setHeight(h.current.height-i),e.setTop(h.current.y+i),s("file/model",e)),t.anchor!==D.S&&t.anchor!==D.SW&&t.anchor!==D.SE||(e.setHeight(h.current.height+i),e.setTop(h.current.y),s("file/model",e))}(c,v.current,f,d)}}return Object(r.useEffect)((function(){function t(){if(null!==o.current){var t=o.current.getBoundingClientRect();c.current.width=Math.trunc(t.width),c.current.height=Math.trunc(t.height);var a=$t(c.current,i,e);a.clear(),a.renderDiagram(n)}}return window.addEventListener("resize",t),t(),function(){window.removeEventListener("resize",t)}})),Object(a.jsx)("div",{ref:o,className:"Canvas",style:{backgroundColor:"hsl(220 9% 92% / 1)",gridArea:"canvas"},children:Object(a.jsx)("canvas",{ref:c,onMouseMove:function(t){var a=$t(c.current,i,e),r=l(a,t),s=r.x,o=r.y;if(1&t.buttons)return d(s,o),a.clear(),void a.renderDiagram(n);var u,h=Object(x.a)(n);try{for(h.s();!(u=h.n()).done;){u.value.setHovered(!1)}}catch(y){h.e(y)}finally{h.f()}var v=a.findHandleForPoint(n,s,o);if(void 0!==v)f("".concat(D[v.anchor].toLowerCase(),"-resize"));else{f("default");var p,g=Object(x.a)(n);try{for(g.s();!(p=g.n()).done;){var m=p.value;if(m instanceof Y)if(a.isPointInClassifier(m,s,o)){m.setHovered(!0);break}}}catch(y){g.e(y)}finally{g.f()}}a.clear(),a.renderDiagram(n)},onMouseDown:function(t){var a=$t(c.current,i,e),r=l(a,t);!function(e,t,i){var a=n.find((function(e){return e.isSelected()})),r=e.findHandleForPoint(n,t,i);if(void 0!==r&&a instanceof Y)return h.current=a.getRectangle(),u.current={x:t,y:i},void(v.current=r);null===a||void 0===a||a.setSelected(!1);var s,o=Object(x.a)(n);try{for(o.s();!(s=o.n()).done;){var c=s.value;if(c instanceof Y&&e.isPointInClassifier(c,t,i))return c.setSelected(!0),h.current=c.getRectangle(),u.current={x:t,y:i},void(v.current=c)}}catch(l){o.e(l)}finally{o.f()}}(a,r.x,r.y),a.clear(),a.renderDiagram(n)},onMouseUp:function(){h.current=null,u.current=null,v.current=null}})})};var en=function(){var e=qe("css"),t=e.css,n=e.dispatch;return Object(a.jsx)("div",{className:"CSSEditor",style:{gridArea:"css",position:"relative"},children:Object(a.jsx)(pt,{language:"css",value:t,onChange:function(e){return n("file/css",e)}})})},tn=n(78),nn=n(40),an=n(41);function rn(e){switch(e){case i.GERMAN:return nn;default:return an}}var sn=function(e){var t=e.children,n=qe("locale").locale;return Object(a.jsx)(tn.a,{messages:rn(n),locale:n,defaultLocale:i.ENGLISH,children:t})},on=Object.keys(D).filter((function(e){return e.match(/^\D+$/)})).map((function(e){return e.toLowerCase()})),cn=Object.keys(U).filter((function(e){return e.match(/^\D+$/)})).map((function(e){return e.toLowerCase()})),un=Object.keys(V).filter((function(e){return e.match(/^\D+$/)})).map((function(e){return e.toLowerCase()})),ln={children:["Title","Separator","Method","Stereotype"],attrs:{x:null,y:null,width:null,height:null,anchor:on,shape:cn}},hn={attrs:{from:null,fromTip:un,to:null,toTip:un,linePattern:Object.keys(_).filter((function(e){return e.match(/^\D+$/)})).map((function(e){return e.toLowerCase()}))}},vn={Class:ln,Classifier:ln,Component:ln,DataType:ln,Enumeration:ln,Interface:ln,Note:ln,Object:ln,Package:ln,Primitive:ln},fn={Aggregation:hn,Anchor:hn,Association:hn,Composition:hn,Dependency:hn,DirectedAssociation:hn,Generalization:hn,Implementation:hn,Relationship:hn},dn=Object(De.a)(Object(De.a)({"!top":["Diagram"],"!attrs":{id:null,class:null},Diagram:{children:[].concat(Object(R.a)(Object.keys(vn)),Object(R.a)(Object.keys(fn)))}},vn),fn);var pn=function(){var e=qe("xml"),t=e.xml,n=e.dispatch;return Object(a.jsx)("div",{className:"XMLEditor",style:{gridArea:"xml",position:"relative"},children:Object(a.jsx)(pt,{language:"xml",value:t,schema:dn,onChange:function(e){return n("file/xml",e)}})})};var gn=function(){var e=qe("title","xml","css"),t=e.title,n=e.css,i=e.xml,s=e.dispatch,o=Object(u.a)(),c=o.formatMessage({id:"untitled",defaultMessage:"Untitled"}),l=o.formatMessage({id:"title",defaultMessage:"UML Editor"});return Te("".concat(t," - ").concat(l)),Object(r.useEffect)((function(){if(window.location.hash.startsWith("#/?doc=")){var e=Ee(window.location.hash.slice("#/?doc=".length));if(e.xml&&e.css)return void s("file/load",e)}s("file/load",{xml:b,css:j,title:c})}),[c,s]),Object(r.useEffect)((function(){var e=Se({title:t,xml:i,css:n});window.location.hash="/?doc=".concat(e)}),[t,i,n]),Object(a.jsxs)("div",{className:"App bg-secondary",children:[Object(a.jsx)(qt,{}),Object(a.jsx)(pn,{}),Object(a.jsx)(en,{}),Object(a.jsx)(Qt,{})]})},mn=(n(70),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),r(e),s(e)}))});c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Qe,{children:Object(a.jsx)(sn,{children:Object(a.jsx)(gn,{})})})}),document.getElementById("root")),mn()}},[[71,1,2]]]);
//# sourceMappingURL=main.bc3a516e.chunk.js.map